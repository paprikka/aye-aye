{"version":3,"file":"preview.js","sources":["../node_modules/.pnpm/preact@10.13.1/node_modules/preact/dist/preact.module.js","../node_modules/.pnpm/preact@10.13.1/node_modules/preact/hooks/dist/hooks.module.js","../node_modules/.pnpm/@mozilla+readability@0.5.0/node_modules/@mozilla/readability/Readability.js","../node_modules/.pnpm/@mozilla+readability@0.5.0/node_modules/@mozilla/readability/Readability-readerable.js","../node_modules/.pnpm/@mozilla+readability@0.5.0/node_modules/@mozilla/readability/index.js","../src/preview/links-from-dom.ts","../node_modules/.pnpm/@preact+signals-core@1.5.1/node_modules/@preact/signals-core/dist/signals-core.module.js","../node_modules/.pnpm/@preact+signals@1.1.3_preact@10.13.1/node_modules/@preact/signals/dist/signals.module.js","../node_modules/.pnpm/preact@10.13.1/node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../src/preview/dialog.tsx","../src/preview/format-shareable-links.ts","../src/preview/share.ts","../src/preview/view.tsx","../src/preview.ts"],"sourcesContent":["var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l){this.props=n,this.context=l}function b(n,l){if(null==l)return n.__?b(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?b(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!w.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(w)}function w(){var n,l,u,i,r,o,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,r=void 0,e=(o=(u=n).__v).__e,(c=u.__P)&&(i=[],(r=h({},o)).__v=o.__v+1,L(c,o,r,u.__n,void 0!==c.ownerSVGElement,null!=o.__h?[e]:null,i,null==e?b(o):e,o.__h),M(i,o),o.__e!=e&&g(o)),t.length>l&&t.sort(f));w.__r=0}function x(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,g,m,w=i&&i.__k||s,x=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d||\"function\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=w[h])||y&&d.key==y.key&&d.type===y.type)w[h]=void 0;else for(v=0;v<x;v++){if((y=w[v])&&d.key==y.key&&d.type===y.type){w[v]=void 0;break}y=null}L(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(m||(m=[]),y.ref&&m.push(y.ref,null,d),m.push(v,d.__c||k,d)),null!=k?(null==g&&(g=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=A(d,e,n):e=C(n,d,y,w,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=b(y))}for(u.__e=g,h=x;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=$(i).nextSibling),S(w[h],w[h]));if(m)for(h=0;h<m.length;h++)O(m[h],m[++h],m[++h])}function A(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?A(i,l,u):C(u,i,i,t,i.__e,l));return l}function P(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){P(n,l)}):l.push(n)),l}function C(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function $(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=$(u)))return i;return null}function H(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||T(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||T(n,r,l[r],u[r],i)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?z:j,r):n.removeEventListener(l,r?z:j,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,b,g,m,w,A,P,C,$,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof I){if(g=u.props,m=(s=I.contextType)&&t[s.__c],w=s?m?m.props.value:s.__:t,i.__c?b=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in I&&I.prototype.render?u.__c=a=new I(g,w):(u.__c=a=new k(g,w),a.constructor=I,a.render=q),m&&m.sub(a),a.props=g,a.state||(a.state={}),a.context=w,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(g,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&g!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(g,w),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(g,a.__s,w)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=g,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(g,a.__s,w),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=w,a.props=g,a.__P=n,P=l.__r,C=0,\"prototype\"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[]}else do{a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++C<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),H=null!=s&&s.type===_&&null==s.key?s.props.children:s,x(n,Array.isArray(H)?H:[H],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),b&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(H(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,x(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&b(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&T(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&T(l,\"checked\",_,y.checked,!1))}return l}function O(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function S(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&S(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),M(f,u)}function D(n,l){B(n,l,D)}function E(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,m(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),m(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},k.prototype.render=_,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},w.__r=0,e=0;export{k as Component,_ as Fragment,E as cloneElement,F as createContext,y as createElement,d as createRef,y as h,D as hydrate,i as isValidElement,l as options,B as render,P as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\n/**\n * Public constructor.\n * @param {HTMLDocument} doc     The document to parse.\n * @param {Object}       options The options object.\n */\nfunction Readability(doc, options) {\n  // In some older versions, people passed a URI as the first argument. Cope:\n  if (options && options.documentElement) {\n    doc = options;\n    options = arguments[2];\n  } else if (!doc || !doc.documentElement) {\n    throw new Error(\"First argument to Readability constructor should be a document object.\");\n  }\n  options = options || {};\n\n  this._doc = doc;\n  this._docJSDOMParser = this._doc.firstChild.__JSDOMParser__;\n  this._articleTitle = null;\n  this._articleByline = null;\n  this._articleDir = null;\n  this._articleSiteName = null;\n  this._attempts = [];\n\n  // Configurable options\n  this._debug = !!options.debug;\n  this._maxElemsToParse = options.maxElemsToParse || this.DEFAULT_MAX_ELEMS_TO_PARSE;\n  this._nbTopCandidates = options.nbTopCandidates || this.DEFAULT_N_TOP_CANDIDATES;\n  this._charThreshold = options.charThreshold || this.DEFAULT_CHAR_THRESHOLD;\n  this._classesToPreserve = this.CLASSES_TO_PRESERVE.concat(options.classesToPreserve || []);\n  this._keepClasses = !!options.keepClasses;\n  this._serializer = options.serializer || function(el) {\n    return el.innerHTML;\n  };\n  this._disableJSONLD = !!options.disableJSONLD;\n  this._allowedVideoRegex = options.allowedVideoRegex || this.REGEXPS.videos;\n\n  // Start with all flags set\n  this._flags = this.FLAG_STRIP_UNLIKELYS |\n                this.FLAG_WEIGHT_CLASSES |\n                this.FLAG_CLEAN_CONDITIONALLY;\n\n\n  // Control whether log messages are sent to the console\n  if (this._debug) {\n    let logNode = function(node) {\n      if (node.nodeType == node.TEXT_NODE) {\n        return `${node.nodeName} (\"${node.textContent}\")`;\n      }\n      let attrPairs = Array.from(node.attributes || [], function(attr) {\n        return `${attr.name}=\"${attr.value}\"`;\n      }).join(\" \");\n      return `<${node.localName} ${attrPairs}>`;\n    };\n    this.log = function () {\n      if (typeof console !== \"undefined\") {\n        let args = Array.from(arguments, arg => {\n          if (arg && arg.nodeType == this.ELEMENT_NODE) {\n            return logNode(arg);\n          }\n          return arg;\n        });\n        args.unshift(\"Reader: (Readability)\");\n        console.log.apply(console, args);\n      } else if (typeof dump !== \"undefined\") {\n        /* global dump */\n        var msg = Array.prototype.map.call(arguments, function(x) {\n          return (x && x.nodeName) ? logNode(x) : x;\n        }).join(\" \");\n        dump(\"Reader: (Readability) \" + msg + \"\\n\");\n      }\n    };\n  } else {\n    this.log = function () {};\n  }\n}\n\nReadability.prototype = {\n  FLAG_STRIP_UNLIKELYS: 0x1,\n  FLAG_WEIGHT_CLASSES: 0x2,\n  FLAG_CLEAN_CONDITIONALLY: 0x4,\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n  ELEMENT_NODE: 1,\n  TEXT_NODE: 3,\n\n  // Max number of nodes supported by this parser. Default: 0 (no limit)\n  DEFAULT_MAX_ELEMS_TO_PARSE: 0,\n\n  // The number of top candidates to consider when analysing how\n  // tight the competition is among candidates.\n  DEFAULT_N_TOP_CANDIDATES: 5,\n\n  // Element tags to score by default.\n  DEFAULT_TAGS_TO_SCORE: \"section,h2,h3,h4,h5,h6,p,td,pre\".toUpperCase().split(\",\"),\n\n  // The default number of chars an article must have in order to return a result\n  DEFAULT_CHAR_THRESHOLD: 500,\n\n  // All of the regular expressions in use within readability.\n  // Defined up here so we don't instantiate them repeatedly in loops.\n  REGEXPS: {\n    // NOTE: These two regular expressions are duplicated in\n    // Readability-readerable.js. Please keep both copies in sync.\n    unlikelyCandidates: /-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n    okMaybeItsACandidate: /and|article|body|column|content|main|shadow/i,\n\n    positive: /article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,\n    negative: /-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,\n    extraneous: /print|archive|comment|discuss|e[\\-]?mail|share|reply|all|login|sign|single|utility/i,\n    byline: /byline|author|dateline|writtenby|p-author/i,\n    replaceFonts: /<(\\/?)font[^>]*>/gi,\n    normalize: /\\s{2,}/g,\n    videos: /\\/\\/(www\\.)?((dailymotion|youtube|youtube-nocookie|player\\.vimeo|v\\.qq)\\.com|(archive|upload\\.wikimedia)\\.org|player\\.twitch\\.tv)/i,\n    shareElements: /(\\b|_)(share|sharedaddy)(\\b|_)/i,\n    nextLink: /(next|weiter|continue|>([^\\|]|$)|»([^\\|]|$))/i,\n    prevLink: /(prev|earl|old|new|<|«)/i,\n    tokenize: /\\W+/g,\n    whitespace: /^\\s*$/,\n    hasContent: /\\S$/,\n    hashUrl: /^#.+/,\n    srcsetUrl: /(\\S+)(\\s+[\\d.]+[xw])?(\\s*(?:,|$))/g,\n    b64DataUrl: /^data:\\s*([^\\s;,]+)\\s*;\\s*base64\\s*,/i,\n    // Commas as used in Latin, Sindhi, Chinese and various other scripts.\n    // see: https://en.wikipedia.org/wiki/Comma#Comma_variants\n    commas: /\\u002C|\\u060C|\\uFE50|\\uFE10|\\uFE11|\\u2E41|\\u2E34|\\u2E32|\\uFF0C/g,\n    // See: https://schema.org/Article\n    jsonLdArticleTypes: /^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/\n  },\n\n  UNLIKELY_ROLES: [ \"menu\", \"menubar\", \"complementary\", \"navigation\", \"alert\", \"alertdialog\", \"dialog\" ],\n\n  DIV_TO_P_ELEMS: new Set([ \"BLOCKQUOTE\", \"DL\", \"DIV\", \"IMG\", \"OL\", \"P\", \"PRE\", \"TABLE\", \"UL\" ]),\n\n  ALTER_TO_DIV_EXCEPTIONS: [\"DIV\", \"ARTICLE\", \"SECTION\", \"P\"],\n\n  PRESENTATIONAL_ATTRIBUTES: [ \"align\", \"background\", \"bgcolor\", \"border\", \"cellpadding\", \"cellspacing\", \"frame\", \"hspace\", \"rules\", \"style\", \"valign\", \"vspace\" ],\n\n  DEPRECATED_SIZE_ATTRIBUTE_ELEMS: [ \"TABLE\", \"TH\", \"TD\", \"HR\", \"PRE\" ],\n\n  // The commented out elements qualify as phrasing content but tend to be\n  // removed by readability when put into paragraphs, so we ignore them here.\n  PHRASING_ELEMS: [\n    // \"CANVAS\", \"IFRAME\", \"SVG\", \"VIDEO\",\n    \"ABBR\", \"AUDIO\", \"B\", \"BDO\", \"BR\", \"BUTTON\", \"CITE\", \"CODE\", \"DATA\",\n    \"DATALIST\", \"DFN\", \"EM\", \"EMBED\", \"I\", \"IMG\", \"INPUT\", \"KBD\", \"LABEL\",\n    \"MARK\", \"MATH\", \"METER\", \"NOSCRIPT\", \"OBJECT\", \"OUTPUT\", \"PROGRESS\", \"Q\",\n    \"RUBY\", \"SAMP\", \"SCRIPT\", \"SELECT\", \"SMALL\", \"SPAN\", \"STRONG\", \"SUB\",\n    \"SUP\", \"TEXTAREA\", \"TIME\", \"VAR\", \"WBR\"\n  ],\n\n  // These are the classes that readability sets itself.\n  CLASSES_TO_PRESERVE: [ \"page\" ],\n\n  // These are the list of HTML entities that need to be escaped.\n  HTML_ESCAPE_MAP: {\n    \"lt\": \"<\",\n    \"gt\": \">\",\n    \"amp\": \"&\",\n    \"quot\": '\"',\n    \"apos\": \"'\",\n  },\n\n  /**\n   * Run any post-process modifications to article content as necessary.\n   *\n   * @param Element\n   * @return void\n  **/\n  _postProcessContent: function(articleContent) {\n    // Readability cannot open relative uris so we convert them to absolute uris.\n    this._fixRelativeUris(articleContent);\n\n    this._simplifyNestedElements(articleContent);\n\n    if (!this._keepClasses) {\n      // Remove classes.\n      this._cleanClasses(articleContent);\n    }\n  },\n\n  /**\n   * Iterates over a NodeList, calls `filterFn` for each node and removes node\n   * if function returned `true`.\n   *\n   * If function is not passed, removes all the nodes in node list.\n   *\n   * @param NodeList nodeList The nodes to operate on\n   * @param Function filterFn the function to use as a filter\n   * @return void\n   */\n  _removeNodes: function(nodeList, filterFn) {\n    // Avoid ever operating on live node lists.\n    if (this._docJSDOMParser && nodeList._isLiveNodeList) {\n      throw new Error(\"Do not pass live node lists to _removeNodes\");\n    }\n    for (var i = nodeList.length - 1; i >= 0; i--) {\n      var node = nodeList[i];\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        if (!filterFn || filterFn.call(this, node, i, nodeList)) {\n          parentNode.removeChild(node);\n        }\n      }\n    }\n  },\n\n  /**\n   * Iterates over a NodeList, and calls _setNodeTag for each node.\n   *\n   * @param NodeList nodeList The nodes to operate on\n   * @param String newTagName the new tag name to use\n   * @return void\n   */\n  _replaceNodeTags: function(nodeList, newTagName) {\n    // Avoid ever operating on live node lists.\n    if (this._docJSDOMParser && nodeList._isLiveNodeList) {\n      throw new Error(\"Do not pass live node lists to _replaceNodeTags\");\n    }\n    for (const node of nodeList) {\n      this._setNodeTag(node, newTagName);\n    }\n  },\n\n  /**\n   * Iterate over a NodeList, which doesn't natively fully implement the Array\n   * interface.\n   *\n   * For convenience, the current object context is applied to the provided\n   * iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return void\n   */\n  _forEachNode: function(nodeList, fn) {\n    Array.prototype.forEach.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, and return the first node that passes\n   * the supplied test function\n   *\n   * For convenience, the current object context is applied to the provided\n   * test function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The test function.\n   * @return void\n   */\n  _findNode: function(nodeList, fn) {\n    return Array.prototype.find.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, return true if any of the provided iterate\n   * function calls returns true, false otherwise.\n   *\n   * For convenience, the current object context is applied to the\n   * provided iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return Boolean\n   */\n  _someNode: function(nodeList, fn) {\n    return Array.prototype.some.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, return true if all of the provided iterate\n   * function calls return true, false otherwise.\n   *\n   * For convenience, the current object context is applied to the\n   * provided iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return Boolean\n   */\n  _everyNode: function(nodeList, fn) {\n    return Array.prototype.every.call(nodeList, fn, this);\n  },\n\n  /**\n   * Concat all nodelists passed as arguments.\n   *\n   * @return ...NodeList\n   * @return Array\n   */\n  _concatNodeLists: function() {\n    var slice = Array.prototype.slice;\n    var args = slice.call(arguments);\n    var nodeLists = args.map(function(list) {\n      return slice.call(list);\n    });\n    return Array.prototype.concat.apply([], nodeLists);\n  },\n\n  _getAllNodesWithTag: function(node, tagNames) {\n    if (node.querySelectorAll) {\n      return node.querySelectorAll(tagNames.join(\",\"));\n    }\n    return [].concat.apply([], tagNames.map(function(tag) {\n      var collection = node.getElementsByTagName(tag);\n      return Array.isArray(collection) ? collection : Array.from(collection);\n    }));\n  },\n\n  /**\n   * Removes the class=\"\" attribute from every element in the given\n   * subtree, except those that match CLASSES_TO_PRESERVE and\n   * the classesToPreserve array from the options object.\n   *\n   * @param Element\n   * @return void\n   */\n  _cleanClasses: function(node) {\n    var classesToPreserve = this._classesToPreserve;\n    var className = (node.getAttribute(\"class\") || \"\")\n      .split(/\\s+/)\n      .filter(function(cls) {\n        return classesToPreserve.indexOf(cls) != -1;\n      })\n      .join(\" \");\n\n    if (className) {\n      node.setAttribute(\"class\", className);\n    } else {\n      node.removeAttribute(\"class\");\n    }\n\n    for (node = node.firstElementChild; node; node = node.nextElementSibling) {\n      this._cleanClasses(node);\n    }\n  },\n\n  /**\n   * Converts each <a> and <img> uri in the given element to an absolute URI,\n   * ignoring #ref URIs.\n   *\n   * @param Element\n   * @return void\n   */\n  _fixRelativeUris: function(articleContent) {\n    var baseURI = this._doc.baseURI;\n    var documentURI = this._doc.documentURI;\n    function toAbsoluteURI(uri) {\n      // Leave hash links alone if the base URI matches the document URI:\n      if (baseURI == documentURI && uri.charAt(0) == \"#\") {\n        return uri;\n      }\n\n      // Otherwise, resolve against base URI:\n      try {\n        return new URL(uri, baseURI).href;\n      } catch (ex) {\n        // Something went wrong, just return the original:\n      }\n      return uri;\n    }\n\n    var links = this._getAllNodesWithTag(articleContent, [\"a\"]);\n    this._forEachNode(links, function(link) {\n      var href = link.getAttribute(\"href\");\n      if (href) {\n        // Remove links with javascript: URIs, since\n        // they won't work after scripts have been removed from the page.\n        if (href.indexOf(\"javascript:\") === 0) {\n          // if the link only contains simple text content, it can be converted to a text node\n          if (link.childNodes.length === 1 && link.childNodes[0].nodeType === this.TEXT_NODE) {\n            var text = this._doc.createTextNode(link.textContent);\n            link.parentNode.replaceChild(text, link);\n          } else {\n            // if the link has multiple children, they should all be preserved\n            var container = this._doc.createElement(\"span\");\n            while (link.firstChild) {\n              container.appendChild(link.firstChild);\n            }\n            link.parentNode.replaceChild(container, link);\n          }\n        } else {\n          link.setAttribute(\"href\", toAbsoluteURI(href));\n        }\n      }\n    });\n\n    var medias = this._getAllNodesWithTag(articleContent, [\n      \"img\", \"picture\", \"figure\", \"video\", \"audio\", \"source\"\n    ]);\n\n    this._forEachNode(medias, function(media) {\n      var src = media.getAttribute(\"src\");\n      var poster = media.getAttribute(\"poster\");\n      var srcset = media.getAttribute(\"srcset\");\n\n      if (src) {\n        media.setAttribute(\"src\", toAbsoluteURI(src));\n      }\n\n      if (poster) {\n        media.setAttribute(\"poster\", toAbsoluteURI(poster));\n      }\n\n      if (srcset) {\n        var newSrcset = srcset.replace(this.REGEXPS.srcsetUrl, function(_, p1, p2, p3) {\n          return toAbsoluteURI(p1) + (p2 || \"\") + p3;\n        });\n\n        media.setAttribute(\"srcset\", newSrcset);\n      }\n    });\n  },\n\n  _simplifyNestedElements: function(articleContent) {\n    var node = articleContent;\n\n    while (node) {\n      if (node.parentNode && [\"DIV\", \"SECTION\"].includes(node.tagName) && !(node.id && node.id.startsWith(\"readability\"))) {\n        if (this._isElementWithoutContent(node)) {\n          node = this._removeAndGetNext(node);\n          continue;\n        } else if (this._hasSingleTagInsideElement(node, \"DIV\") || this._hasSingleTagInsideElement(node, \"SECTION\")) {\n          var child = node.children[0];\n          for (var i = 0; i < node.attributes.length; i++) {\n            child.setAttribute(node.attributes[i].name, node.attributes[i].value);\n          }\n          node.parentNode.replaceChild(child, node);\n          node = child;\n          continue;\n        }\n      }\n\n      node = this._getNextNode(node);\n    }\n  },\n\n  /**\n   * Get the article title as an H1.\n   *\n   * @return string\n   **/\n  _getArticleTitle: function() {\n    var doc = this._doc;\n    var curTitle = \"\";\n    var origTitle = \"\";\n\n    try {\n      curTitle = origTitle = doc.title.trim();\n\n      // If they had an element with id \"title\" in their HTML\n      if (typeof curTitle !== \"string\")\n        curTitle = origTitle = this._getInnerText(doc.getElementsByTagName(\"title\")[0]);\n    } catch (e) {/* ignore exceptions setting the title. */}\n\n    var titleHadHierarchicalSeparators = false;\n    function wordCount(str) {\n      return str.split(/\\s+/).length;\n    }\n\n    // If there's a separator in the title, first remove the final part\n    if ((/ [\\|\\-\\\\\\/>»] /).test(curTitle)) {\n      titleHadHierarchicalSeparators = / [\\\\\\/>»] /.test(curTitle);\n      curTitle = origTitle.replace(/(.*)[\\|\\-\\\\\\/>»] .*/gi, \"$1\");\n\n      // If the resulting title is too short (3 words or fewer), remove\n      // the first part instead:\n      if (wordCount(curTitle) < 3)\n        curTitle = origTitle.replace(/[^\\|\\-\\\\\\/>»]*[\\|\\-\\\\\\/>»](.*)/gi, \"$1\");\n    } else if (curTitle.indexOf(\": \") !== -1) {\n      // Check if we have an heading containing this exact string, so we\n      // could assume it's the full title.\n      var headings = this._concatNodeLists(\n        doc.getElementsByTagName(\"h1\"),\n        doc.getElementsByTagName(\"h2\")\n      );\n      var trimmedTitle = curTitle.trim();\n      var match = this._someNode(headings, function(heading) {\n        return heading.textContent.trim() === trimmedTitle;\n      });\n\n      // If we don't, let's extract the title out of the original title string.\n      if (!match) {\n        curTitle = origTitle.substring(origTitle.lastIndexOf(\":\") + 1);\n\n        // If the title is now too short, try the first colon instead:\n        if (wordCount(curTitle) < 3) {\n          curTitle = origTitle.substring(origTitle.indexOf(\":\") + 1);\n          // But if we have too many words before the colon there's something weird\n          // with the titles and the H tags so let's just use the original title instead\n        } else if (wordCount(origTitle.substr(0, origTitle.indexOf(\":\"))) > 5) {\n          curTitle = origTitle;\n        }\n      }\n    } else if (curTitle.length > 150 || curTitle.length < 15) {\n      var hOnes = doc.getElementsByTagName(\"h1\");\n\n      if (hOnes.length === 1)\n        curTitle = this._getInnerText(hOnes[0]);\n    }\n\n    curTitle = curTitle.trim().replace(this.REGEXPS.normalize, \" \");\n    // If we now have 4 words or fewer as our title, and either no\n    // 'hierarchical' separators (\\, /, > or ») were found in the original\n    // title or we decreased the number of words by more than 1 word, use\n    // the original title.\n    var curTitleWordCount = wordCount(curTitle);\n    if (curTitleWordCount <= 4 &&\n        (!titleHadHierarchicalSeparators ||\n         curTitleWordCount != wordCount(origTitle.replace(/[\\|\\-\\\\\\/>»]+/g, \"\")) - 1)) {\n      curTitle = origTitle;\n    }\n\n    return curTitle;\n  },\n\n  /**\n   * Prepare the HTML document for readability to scrape it.\n   * This includes things like stripping javascript, CSS, and handling terrible markup.\n   *\n   * @return void\n   **/\n  _prepDocument: function() {\n    var doc = this._doc;\n\n    // Remove all style tags in head\n    this._removeNodes(this._getAllNodesWithTag(doc, [\"style\"]));\n\n    if (doc.body) {\n      this._replaceBrs(doc.body);\n    }\n\n    this._replaceNodeTags(this._getAllNodesWithTag(doc, [\"font\"]), \"SPAN\");\n  },\n\n  /**\n   * Finds the next node, starting from the given node, and ignoring\n   * whitespace in between. If the given node is an element, the same node is\n   * returned.\n   */\n  _nextNode: function (node) {\n    var next = node;\n    while (next\n        && (next.nodeType != this.ELEMENT_NODE)\n        && this.REGEXPS.whitespace.test(next.textContent)) {\n      next = next.nextSibling;\n    }\n    return next;\n  },\n\n  /**\n   * Replaces 2 or more successive <br> elements with a single <p>.\n   * Whitespace between <br> elements are ignored. For example:\n   *   <div>foo<br>bar<br> <br><br>abc</div>\n   * will become:\n   *   <div>foo<br>bar<p>abc</p></div>\n   */\n  _replaceBrs: function (elem) {\n    this._forEachNode(this._getAllNodesWithTag(elem, [\"br\"]), function(br) {\n      var next = br.nextSibling;\n\n      // Whether 2 or more <br> elements have been found and replaced with a\n      // <p> block.\n      var replaced = false;\n\n      // If we find a <br> chain, remove the <br>s until we hit another node\n      // or non-whitespace. This leaves behind the first <br> in the chain\n      // (which will be replaced with a <p> later).\n      while ((next = this._nextNode(next)) && (next.tagName == \"BR\")) {\n        replaced = true;\n        var brSibling = next.nextSibling;\n        next.parentNode.removeChild(next);\n        next = brSibling;\n      }\n\n      // If we removed a <br> chain, replace the remaining <br> with a <p>. Add\n      // all sibling nodes as children of the <p> until we hit another <br>\n      // chain.\n      if (replaced) {\n        var p = this._doc.createElement(\"p\");\n        br.parentNode.replaceChild(p, br);\n\n        next = p.nextSibling;\n        while (next) {\n          // If we've hit another <br><br>, we're done adding children to this <p>.\n          if (next.tagName == \"BR\") {\n            var nextElem = this._nextNode(next.nextSibling);\n            if (nextElem && nextElem.tagName == \"BR\")\n              break;\n          }\n\n          if (!this._isPhrasingContent(next))\n            break;\n\n          // Otherwise, make this node a child of the new <p>.\n          var sibling = next.nextSibling;\n          p.appendChild(next);\n          next = sibling;\n        }\n\n        while (p.lastChild && this._isWhitespace(p.lastChild)) {\n          p.removeChild(p.lastChild);\n        }\n\n        if (p.parentNode.tagName === \"P\")\n          this._setNodeTag(p.parentNode, \"DIV\");\n      }\n    });\n  },\n\n  _setNodeTag: function (node, tag) {\n    this.log(\"_setNodeTag\", node, tag);\n    if (this._docJSDOMParser) {\n      node.localName = tag.toLowerCase();\n      node.tagName = tag.toUpperCase();\n      return node;\n    }\n\n    var replacement = node.ownerDocument.createElement(tag);\n    while (node.firstChild) {\n      replacement.appendChild(node.firstChild);\n    }\n    node.parentNode.replaceChild(replacement, node);\n    if (node.readability)\n      replacement.readability = node.readability;\n\n    for (var i = 0; i < node.attributes.length; i++) {\n      try {\n        replacement.setAttribute(node.attributes[i].name, node.attributes[i].value);\n      } catch (ex) {\n        /* it's possible for setAttribute() to throw if the attribute name\n         * isn't a valid XML Name. Such attributes can however be parsed from\n         * source in HTML docs, see https://github.com/whatwg/html/issues/4275,\n         * so we can hit them here and then throw. We don't care about such\n         * attributes so we ignore them.\n         */\n      }\n    }\n    return replacement;\n  },\n\n  /**\n   * Prepare the article node for display. Clean out any inline styles,\n   * iframes, forms, strip extraneous <p> tags, etc.\n   *\n   * @param Element\n   * @return void\n   **/\n  _prepArticle: function(articleContent) {\n    this._cleanStyles(articleContent);\n\n    // Check for data tables before we continue, to avoid removing items in\n    // those tables, which will often be isolated even though they're\n    // visually linked to other content-ful elements (text, images, etc.).\n    this._markDataTables(articleContent);\n\n    this._fixLazyImages(articleContent);\n\n    // Clean out junk from the article content\n    this._cleanConditionally(articleContent, \"form\");\n    this._cleanConditionally(articleContent, \"fieldset\");\n    this._clean(articleContent, \"object\");\n    this._clean(articleContent, \"embed\");\n    this._clean(articleContent, \"footer\");\n    this._clean(articleContent, \"link\");\n    this._clean(articleContent, \"aside\");\n\n    // Clean out elements with little content that have \"share\" in their id/class combinations from final top candidates,\n    // which means we don't remove the top candidates even they have \"share\".\n\n    var shareElementThreshold = this.DEFAULT_CHAR_THRESHOLD;\n\n    this._forEachNode(articleContent.children, function (topCandidate) {\n      this._cleanMatchedNodes(topCandidate, function (node, matchString) {\n        return this.REGEXPS.shareElements.test(matchString) && node.textContent.length < shareElementThreshold;\n      });\n    });\n\n    this._clean(articleContent, \"iframe\");\n    this._clean(articleContent, \"input\");\n    this._clean(articleContent, \"textarea\");\n    this._clean(articleContent, \"select\");\n    this._clean(articleContent, \"button\");\n    this._cleanHeaders(articleContent);\n\n    // Do these last as the previous stuff may have removed junk\n    // that will affect these\n    this._cleanConditionally(articleContent, \"table\");\n    this._cleanConditionally(articleContent, \"ul\");\n    this._cleanConditionally(articleContent, \"div\");\n\n    // replace H1 with H2 as H1 should be only title that is displayed separately\n    this._replaceNodeTags(this._getAllNodesWithTag(articleContent, [\"h1\"]), \"h2\");\n\n    // Remove extra paragraphs\n    this._removeNodes(this._getAllNodesWithTag(articleContent, [\"p\"]), function (paragraph) {\n      var imgCount = paragraph.getElementsByTagName(\"img\").length;\n      var embedCount = paragraph.getElementsByTagName(\"embed\").length;\n      var objectCount = paragraph.getElementsByTagName(\"object\").length;\n      // At this point, nasty iframes have been removed, only remain embedded video ones.\n      var iframeCount = paragraph.getElementsByTagName(\"iframe\").length;\n      var totalCount = imgCount + embedCount + objectCount + iframeCount;\n\n      return totalCount === 0 && !this._getInnerText(paragraph, false);\n    });\n\n    this._forEachNode(this._getAllNodesWithTag(articleContent, [\"br\"]), function(br) {\n      var next = this._nextNode(br.nextSibling);\n      if (next && next.tagName == \"P\")\n        br.parentNode.removeChild(br);\n    });\n\n    // Remove single-cell tables\n    this._forEachNode(this._getAllNodesWithTag(articleContent, [\"table\"]), function(table) {\n      var tbody = this._hasSingleTagInsideElement(table, \"TBODY\") ? table.firstElementChild : table;\n      if (this._hasSingleTagInsideElement(tbody, \"TR\")) {\n        var row = tbody.firstElementChild;\n        if (this._hasSingleTagInsideElement(row, \"TD\")) {\n          var cell = row.firstElementChild;\n          cell = this._setNodeTag(cell, this._everyNode(cell.childNodes, this._isPhrasingContent) ? \"P\" : \"DIV\");\n          table.parentNode.replaceChild(cell, table);\n        }\n      }\n    });\n  },\n\n  /**\n   * Initialize a node with the readability object. Also checks the\n   * className/id for special names to add to its score.\n   *\n   * @param Element\n   * @return void\n  **/\n  _initializeNode: function(node) {\n    node.readability = {\"contentScore\": 0};\n\n    switch (node.tagName) {\n      case \"DIV\":\n        node.readability.contentScore += 5;\n        break;\n\n      case \"PRE\":\n      case \"TD\":\n      case \"BLOCKQUOTE\":\n        node.readability.contentScore += 3;\n        break;\n\n      case \"ADDRESS\":\n      case \"OL\":\n      case \"UL\":\n      case \"DL\":\n      case \"DD\":\n      case \"DT\":\n      case \"LI\":\n      case \"FORM\":\n        node.readability.contentScore -= 3;\n        break;\n\n      case \"H1\":\n      case \"H2\":\n      case \"H3\":\n      case \"H4\":\n      case \"H5\":\n      case \"H6\":\n      case \"TH\":\n        node.readability.contentScore -= 5;\n        break;\n    }\n\n    node.readability.contentScore += this._getClassWeight(node);\n  },\n\n  _removeAndGetNext: function(node) {\n    var nextNode = this._getNextNode(node, true);\n    node.parentNode.removeChild(node);\n    return nextNode;\n  },\n\n  /**\n   * Traverse the DOM from node to node, starting at the node passed in.\n   * Pass true for the second parameter to indicate this node itself\n   * (and its kids) are going away, and we want the next node over.\n   *\n   * Calling this in a loop will traverse the DOM depth-first.\n   */\n  _getNextNode: function(node, ignoreSelfAndKids) {\n    // First check for kids if those aren't being ignored\n    if (!ignoreSelfAndKids && node.firstElementChild) {\n      return node.firstElementChild;\n    }\n    // Then for siblings...\n    if (node.nextElementSibling) {\n      return node.nextElementSibling;\n    }\n    // And finally, move up the parent chain *and* find a sibling\n    // (because this is depth-first traversal, we will have already\n    // seen the parent nodes themselves).\n    do {\n      node = node.parentNode;\n    } while (node && !node.nextElementSibling);\n    return node && node.nextElementSibling;\n  },\n\n  // compares second text to first one\n  // 1 = same text, 0 = completely different text\n  // works the way that it splits both texts into words and then finds words that are unique in second text\n  // the result is given by the lower length of unique parts\n  _textSimilarity: function(textA, textB) {\n    var tokensA = textA.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);\n    var tokensB = textB.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);\n    if (!tokensA.length || !tokensB.length) {\n      return 0;\n    }\n    var uniqTokensB = tokensB.filter(token => !tokensA.includes(token));\n    var distanceB = uniqTokensB.join(\" \").length / tokensB.join(\" \").length;\n    return 1 - distanceB;\n  },\n\n  _checkByline: function(node, matchString) {\n    if (this._articleByline) {\n      return false;\n    }\n\n    if (node.getAttribute !== undefined) {\n      var rel = node.getAttribute(\"rel\");\n      var itemprop = node.getAttribute(\"itemprop\");\n    }\n\n    if ((rel === \"author\" || (itemprop && itemprop.indexOf(\"author\") !== -1) || this.REGEXPS.byline.test(matchString)) && this._isValidByline(node.textContent)) {\n      this._articleByline = node.textContent.trim();\n      return true;\n    }\n\n    return false;\n  },\n\n  _getNodeAncestors: function(node, maxDepth) {\n    maxDepth = maxDepth || 0;\n    var i = 0, ancestors = [];\n    while (node.parentNode) {\n      ancestors.push(node.parentNode);\n      if (maxDepth && ++i === maxDepth)\n        break;\n      node = node.parentNode;\n    }\n    return ancestors;\n  },\n\n  /***\n   * grabArticle - Using a variety of metrics (content score, classname, element types), find the content that is\n   *         most likely to be the stuff a user wants to read. Then return it wrapped up in a div.\n   *\n   * @param page a document to run upon. Needs to be a full document, complete with body.\n   * @return Element\n  **/\n  _grabArticle: function (page) {\n    this.log(\"**** grabArticle ****\");\n    var doc = this._doc;\n    var isPaging = page !== null;\n    page = page ? page : this._doc.body;\n\n    // We can't grab an article if we don't have a page!\n    if (!page) {\n      this.log(\"No body found in document. Abort.\");\n      return null;\n    }\n\n    var pageCacheHtml = page.innerHTML;\n\n    while (true) {\n      this.log(\"Starting grabArticle loop\");\n      var stripUnlikelyCandidates = this._flagIsActive(this.FLAG_STRIP_UNLIKELYS);\n\n      // First, node prepping. Trash nodes that look cruddy (like ones with the\n      // class name \"comment\", etc), and turn divs into P tags where they have been\n      // used inappropriately (as in, where they contain no other block level elements.)\n      var elementsToScore = [];\n      var node = this._doc.documentElement;\n\n      let shouldRemoveTitleHeader = true;\n\n      while (node) {\n\n        if (node.tagName === \"HTML\") {\n          this._articleLang = node.getAttribute(\"lang\");\n        }\n\n        var matchString = node.className + \" \" + node.id;\n\n        if (!this._isProbablyVisible(node)) {\n          this.log(\"Removing hidden node - \" + matchString);\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        // User is not able to see elements applied with both \"aria-modal = true\" and \"role = dialog\"\n        if (node.getAttribute(\"aria-modal\") == \"true\" && node.getAttribute(\"role\") == \"dialog\") {\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        // Check to see if this node is a byline, and remove it if it is.\n        if (this._checkByline(node, matchString)) {\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        if (shouldRemoveTitleHeader && this._headerDuplicatesTitle(node)) {\n          this.log(\"Removing header: \", node.textContent.trim(), this._articleTitle.trim());\n          shouldRemoveTitleHeader = false;\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        // Remove unlikely candidates\n        if (stripUnlikelyCandidates) {\n          if (this.REGEXPS.unlikelyCandidates.test(matchString) &&\n              !this.REGEXPS.okMaybeItsACandidate.test(matchString) &&\n              !this._hasAncestorTag(node, \"table\") &&\n              !this._hasAncestorTag(node, \"code\") &&\n              node.tagName !== \"BODY\" &&\n              node.tagName !== \"A\") {\n            this.log(\"Removing unlikely candidate - \" + matchString);\n            node = this._removeAndGetNext(node);\n            continue;\n          }\n\n          if (this.UNLIKELY_ROLES.includes(node.getAttribute(\"role\"))) {\n            this.log(\"Removing content with role \" + node.getAttribute(\"role\") + \" - \" + matchString);\n            node = this._removeAndGetNext(node);\n            continue;\n          }\n        }\n\n        // Remove DIV, SECTION, and HEADER nodes without any content(e.g. text, image, video, or iframe).\n        if ((node.tagName === \"DIV\" || node.tagName === \"SECTION\" || node.tagName === \"HEADER\" ||\n             node.tagName === \"H1\" || node.tagName === \"H2\" || node.tagName === \"H3\" ||\n             node.tagName === \"H4\" || node.tagName === \"H5\" || node.tagName === \"H6\") &&\n            this._isElementWithoutContent(node)) {\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        if (this.DEFAULT_TAGS_TO_SCORE.indexOf(node.tagName) !== -1) {\n          elementsToScore.push(node);\n        }\n\n        // Turn all divs that don't have children block level elements into p's\n        if (node.tagName === \"DIV\") {\n          // Put phrasing content into paragraphs.\n          var p = null;\n          var childNode = node.firstChild;\n          while (childNode) {\n            var nextSibling = childNode.nextSibling;\n            if (this._isPhrasingContent(childNode)) {\n              if (p !== null) {\n                p.appendChild(childNode);\n              } else if (!this._isWhitespace(childNode)) {\n                p = doc.createElement(\"p\");\n                node.replaceChild(p, childNode);\n                p.appendChild(childNode);\n              }\n            } else if (p !== null) {\n              while (p.lastChild && this._isWhitespace(p.lastChild)) {\n                p.removeChild(p.lastChild);\n              }\n              p = null;\n            }\n            childNode = nextSibling;\n          }\n\n          // Sites like http://mobile.slate.com encloses each paragraph with a DIV\n          // element. DIVs with only a P element inside and no text content can be\n          // safely converted into plain P elements to avoid confusing the scoring\n          // algorithm with DIVs with are, in practice, paragraphs.\n          if (this._hasSingleTagInsideElement(node, \"P\") && this._getLinkDensity(node) < 0.25) {\n            var newNode = node.children[0];\n            node.parentNode.replaceChild(newNode, node);\n            node = newNode;\n            elementsToScore.push(node);\n          } else if (!this._hasChildBlockElement(node)) {\n            node = this._setNodeTag(node, \"P\");\n            elementsToScore.push(node);\n          }\n        }\n        node = this._getNextNode(node);\n      }\n\n      /**\n       * Loop through all paragraphs, and assign a score to them based on how content-y they look.\n       * Then add their score to their parent node.\n       *\n       * A score is determined by things like number of commas, class names, etc. Maybe eventually link density.\n      **/\n      var candidates = [];\n      this._forEachNode(elementsToScore, function(elementToScore) {\n        if (!elementToScore.parentNode || typeof(elementToScore.parentNode.tagName) === \"undefined\")\n          return;\n\n        // If this paragraph is less than 25 characters, don't even count it.\n        var innerText = this._getInnerText(elementToScore);\n        if (innerText.length < 25)\n          return;\n\n        // Exclude nodes with no ancestor.\n        var ancestors = this._getNodeAncestors(elementToScore, 5);\n        if (ancestors.length === 0)\n          return;\n\n        var contentScore = 0;\n\n        // Add a point for the paragraph itself as a base.\n        contentScore += 1;\n\n        // Add points for any commas within this paragraph.\n        contentScore += innerText.split(this.REGEXPS.commas).length;\n\n        // For every 100 characters in this paragraph, add another point. Up to 3 points.\n        contentScore += Math.min(Math.floor(innerText.length / 100), 3);\n\n        // Initialize and score ancestors.\n        this._forEachNode(ancestors, function(ancestor, level) {\n          if (!ancestor.tagName || !ancestor.parentNode || typeof(ancestor.parentNode.tagName) === \"undefined\")\n            return;\n\n          if (typeof(ancestor.readability) === \"undefined\") {\n            this._initializeNode(ancestor);\n            candidates.push(ancestor);\n          }\n\n          // Node score divider:\n          // - parent:             1 (no division)\n          // - grandparent:        2\n          // - great grandparent+: ancestor level * 3\n          if (level === 0)\n            var scoreDivider = 1;\n          else if (level === 1)\n            scoreDivider = 2;\n          else\n            scoreDivider = level * 3;\n          ancestor.readability.contentScore += contentScore / scoreDivider;\n        });\n      });\n\n      // After we've calculated scores, loop through all of the possible\n      // candidate nodes we found and find the one with the highest score.\n      var topCandidates = [];\n      for (var c = 0, cl = candidates.length; c < cl; c += 1) {\n        var candidate = candidates[c];\n\n        // Scale the final candidates score based on link density. Good content\n        // should have a relatively small link density (5% or less) and be mostly\n        // unaffected by this operation.\n        var candidateScore = candidate.readability.contentScore * (1 - this._getLinkDensity(candidate));\n        candidate.readability.contentScore = candidateScore;\n\n        this.log(\"Candidate:\", candidate, \"with score \" + candidateScore);\n\n        for (var t = 0; t < this._nbTopCandidates; t++) {\n          var aTopCandidate = topCandidates[t];\n\n          if (!aTopCandidate || candidateScore > aTopCandidate.readability.contentScore) {\n            topCandidates.splice(t, 0, candidate);\n            if (topCandidates.length > this._nbTopCandidates)\n              topCandidates.pop();\n            break;\n          }\n        }\n      }\n\n      var topCandidate = topCandidates[0] || null;\n      var neededToCreateTopCandidate = false;\n      var parentOfTopCandidate;\n\n      // If we still have no top candidate, just use the body as a last resort.\n      // We also have to copy the body node so it is something we can modify.\n      if (topCandidate === null || topCandidate.tagName === \"BODY\") {\n        // Move all of the page's children into topCandidate\n        topCandidate = doc.createElement(\"DIV\");\n        neededToCreateTopCandidate = true;\n        // Move everything (not just elements, also text nodes etc.) into the container\n        // so we even include text directly in the body:\n        while (page.firstChild) {\n          this.log(\"Moving child out:\", page.firstChild);\n          topCandidate.appendChild(page.firstChild);\n        }\n\n        page.appendChild(topCandidate);\n\n        this._initializeNode(topCandidate);\n      } else if (topCandidate) {\n        // Find a better top candidate node if it contains (at least three) nodes which belong to `topCandidates` array\n        // and whose scores are quite closed with current `topCandidate` node.\n        var alternativeCandidateAncestors = [];\n        for (var i = 1; i < topCandidates.length; i++) {\n          if (topCandidates[i].readability.contentScore / topCandidate.readability.contentScore >= 0.75) {\n            alternativeCandidateAncestors.push(this._getNodeAncestors(topCandidates[i]));\n          }\n        }\n        var MINIMUM_TOPCANDIDATES = 3;\n        if (alternativeCandidateAncestors.length >= MINIMUM_TOPCANDIDATES) {\n          parentOfTopCandidate = topCandidate.parentNode;\n          while (parentOfTopCandidate.tagName !== \"BODY\") {\n            var listsContainingThisAncestor = 0;\n            for (var ancestorIndex = 0; ancestorIndex < alternativeCandidateAncestors.length && listsContainingThisAncestor < MINIMUM_TOPCANDIDATES; ancestorIndex++) {\n              listsContainingThisAncestor += Number(alternativeCandidateAncestors[ancestorIndex].includes(parentOfTopCandidate));\n            }\n            if (listsContainingThisAncestor >= MINIMUM_TOPCANDIDATES) {\n              topCandidate = parentOfTopCandidate;\n              break;\n            }\n            parentOfTopCandidate = parentOfTopCandidate.parentNode;\n          }\n        }\n        if (!topCandidate.readability) {\n          this._initializeNode(topCandidate);\n        }\n\n        // Because of our bonus system, parents of candidates might have scores\n        // themselves. They get half of the node. There won't be nodes with higher\n        // scores than our topCandidate, but if we see the score going *up* in the first\n        // few steps up the tree, that's a decent sign that there might be more content\n        // lurking in other places that we want to unify in. The sibling stuff\n        // below does some of that - but only if we've looked high enough up the DOM\n        // tree.\n        parentOfTopCandidate = topCandidate.parentNode;\n        var lastScore = topCandidate.readability.contentScore;\n        // The scores shouldn't get too low.\n        var scoreThreshold = lastScore / 3;\n        while (parentOfTopCandidate.tagName !== \"BODY\") {\n          if (!parentOfTopCandidate.readability) {\n            parentOfTopCandidate = parentOfTopCandidate.parentNode;\n            continue;\n          }\n          var parentScore = parentOfTopCandidate.readability.contentScore;\n          if (parentScore < scoreThreshold)\n            break;\n          if (parentScore > lastScore) {\n            // Alright! We found a better parent to use.\n            topCandidate = parentOfTopCandidate;\n            break;\n          }\n          lastScore = parentOfTopCandidate.readability.contentScore;\n          parentOfTopCandidate = parentOfTopCandidate.parentNode;\n        }\n\n        // If the top candidate is the only child, use parent instead. This will help sibling\n        // joining logic when adjacent content is actually located in parent's sibling node.\n        parentOfTopCandidate = topCandidate.parentNode;\n        while (parentOfTopCandidate.tagName != \"BODY\" && parentOfTopCandidate.children.length == 1) {\n          topCandidate = parentOfTopCandidate;\n          parentOfTopCandidate = topCandidate.parentNode;\n        }\n        if (!topCandidate.readability) {\n          this._initializeNode(topCandidate);\n        }\n      }\n\n      // Now that we have the top candidate, look through its siblings for content\n      // that might also be related. Things like preambles, content split by ads\n      // that we removed, etc.\n      var articleContent = doc.createElement(\"DIV\");\n      if (isPaging)\n        articleContent.id = \"readability-content\";\n\n      var siblingScoreThreshold = Math.max(10, topCandidate.readability.contentScore * 0.2);\n      // Keep potential top candidate's parent node to try to get text direction of it later.\n      parentOfTopCandidate = topCandidate.parentNode;\n      var siblings = parentOfTopCandidate.children;\n\n      for (var s = 0, sl = siblings.length; s < sl; s++) {\n        var sibling = siblings[s];\n        var append = false;\n\n        this.log(\"Looking at sibling node:\", sibling, sibling.readability ? (\"with score \" + sibling.readability.contentScore) : \"\");\n        this.log(\"Sibling has score\", sibling.readability ? sibling.readability.contentScore : \"Unknown\");\n\n        if (sibling === topCandidate) {\n          append = true;\n        } else {\n          var contentBonus = 0;\n\n          // Give a bonus if sibling nodes and top candidates have the example same classname\n          if (sibling.className === topCandidate.className && topCandidate.className !== \"\")\n            contentBonus += topCandidate.readability.contentScore * 0.2;\n\n          if (sibling.readability &&\n              ((sibling.readability.contentScore + contentBonus) >= siblingScoreThreshold)) {\n            append = true;\n          } else if (sibling.nodeName === \"P\") {\n            var linkDensity = this._getLinkDensity(sibling);\n            var nodeContent = this._getInnerText(sibling);\n            var nodeLength = nodeContent.length;\n\n            if (nodeLength > 80 && linkDensity < 0.25) {\n              append = true;\n            } else if (nodeLength < 80 && nodeLength > 0 && linkDensity === 0 &&\n                       nodeContent.search(/\\.( |$)/) !== -1) {\n              append = true;\n            }\n          }\n        }\n\n        if (append) {\n          this.log(\"Appending node:\", sibling);\n\n          if (this.ALTER_TO_DIV_EXCEPTIONS.indexOf(sibling.nodeName) === -1) {\n            // We have a node that isn't a common block level element, like a form or td tag.\n            // Turn it into a div so it doesn't get filtered out later by accident.\n            this.log(\"Altering sibling:\", sibling, \"to div.\");\n\n            sibling = this._setNodeTag(sibling, \"DIV\");\n          }\n\n          articleContent.appendChild(sibling);\n          // Fetch children again to make it compatible\n          // with DOM parsers without live collection support.\n          siblings = parentOfTopCandidate.children;\n          // siblings is a reference to the children array, and\n          // sibling is removed from the array when we call appendChild().\n          // As a result, we must revisit this index since the nodes\n          // have been shifted.\n          s -= 1;\n          sl -= 1;\n        }\n      }\n\n      if (this._debug)\n        this.log(\"Article content pre-prep: \" + articleContent.innerHTML);\n      // So we have all of the content that we need. Now we clean it up for presentation.\n      this._prepArticle(articleContent);\n      if (this._debug)\n        this.log(\"Article content post-prep: \" + articleContent.innerHTML);\n\n      if (neededToCreateTopCandidate) {\n        // We already created a fake div thing, and there wouldn't have been any siblings left\n        // for the previous loop, so there's no point trying to create a new div, and then\n        // move all the children over. Just assign IDs and class names here. No need to append\n        // because that already happened anyway.\n        topCandidate.id = \"readability-page-1\";\n        topCandidate.className = \"page\";\n      } else {\n        var div = doc.createElement(\"DIV\");\n        div.id = \"readability-page-1\";\n        div.className = \"page\";\n        while (articleContent.firstChild) {\n          div.appendChild(articleContent.firstChild);\n        }\n        articleContent.appendChild(div);\n      }\n\n      if (this._debug)\n        this.log(\"Article content after paging: \" + articleContent.innerHTML);\n\n      var parseSuccessful = true;\n\n      // Now that we've gone through the full algorithm, check to see if\n      // we got any meaningful content. If we didn't, we may need to re-run\n      // grabArticle with different flags set. This gives us a higher likelihood of\n      // finding the content, and the sieve approach gives us a higher likelihood of\n      // finding the -right- content.\n      var textLength = this._getInnerText(articleContent, true).length;\n      if (textLength < this._charThreshold) {\n        parseSuccessful = false;\n        page.innerHTML = pageCacheHtml;\n\n        if (this._flagIsActive(this.FLAG_STRIP_UNLIKELYS)) {\n          this._removeFlag(this.FLAG_STRIP_UNLIKELYS);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else if (this._flagIsActive(this.FLAG_WEIGHT_CLASSES)) {\n          this._removeFlag(this.FLAG_WEIGHT_CLASSES);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else if (this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)) {\n          this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else {\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n          // No luck after removing flags, just return the longest text we found during the different loops\n          this._attempts.sort(function (a, b) {\n            return b.textLength - a.textLength;\n          });\n\n          // But first check if we actually have something\n          if (!this._attempts[0].textLength) {\n            return null;\n          }\n\n          articleContent = this._attempts[0].articleContent;\n          parseSuccessful = true;\n        }\n      }\n\n      if (parseSuccessful) {\n        // Find out text direction from ancestors of final top candidate.\n        var ancestors = [parentOfTopCandidate, topCandidate].concat(this._getNodeAncestors(parentOfTopCandidate));\n        this._someNode(ancestors, function(ancestor) {\n          if (!ancestor.tagName)\n            return false;\n          var articleDir = ancestor.getAttribute(\"dir\");\n          if (articleDir) {\n            this._articleDir = articleDir;\n            return true;\n          }\n          return false;\n        });\n        return articleContent;\n      }\n    }\n  },\n\n  /**\n   * Check whether the input string could be a byline.\n   * This verifies that the input is a string, and that the length\n   * is less than 100 chars.\n   *\n   * @param possibleByline {string} - a string to check whether its a byline.\n   * @return Boolean - whether the input string is a byline.\n   */\n  _isValidByline: function(byline) {\n    if (typeof byline == \"string\" || byline instanceof String) {\n      byline = byline.trim();\n      return (byline.length > 0) && (byline.length < 100);\n    }\n    return false;\n  },\n\n  /**\n   * Converts some of the common HTML entities in string to their corresponding characters.\n   *\n   * @param str {string} - a string to unescape.\n   * @return string without HTML entity.\n   */\n  _unescapeHtmlEntities: function(str) {\n    if (!str) {\n      return str;\n    }\n\n    var htmlEscapeMap = this.HTML_ESCAPE_MAP;\n    return str.replace(/&(quot|amp|apos|lt|gt);/g, function(_, tag) {\n      return htmlEscapeMap[tag];\n    }).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi, function(_, hex, numStr) {\n      var num = parseInt(hex || numStr, hex ? 16 : 10);\n      return String.fromCharCode(num);\n    });\n  },\n\n  /**\n   * Try to extract metadata from JSON-LD object.\n   * For now, only Schema.org objects of type Article or its subtypes are supported.\n   * @return Object with any metadata that could be extracted (possibly none)\n   */\n  _getJSONLD: function (doc) {\n    var scripts = this._getAllNodesWithTag(doc, [\"script\"]);\n\n    var metadata;\n\n    this._forEachNode(scripts, function(jsonLdElement) {\n      if (!metadata && jsonLdElement.getAttribute(\"type\") === \"application/ld+json\") {\n        try {\n          // Strip CDATA markers if present\n          var content = jsonLdElement.textContent.replace(/^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g, \"\");\n          var parsed = JSON.parse(content);\n          if (\n            !parsed[\"@context\"] ||\n            !parsed[\"@context\"].match(/^https?\\:\\/\\/schema\\.org$/)\n          ) {\n            return;\n          }\n\n          if (!parsed[\"@type\"] && Array.isArray(parsed[\"@graph\"])) {\n            parsed = parsed[\"@graph\"].find(function(it) {\n              return (it[\"@type\"] || \"\").match(\n                this.REGEXPS.jsonLdArticleTypes\n              );\n            });\n          }\n\n          if (\n            !parsed ||\n            !parsed[\"@type\"] ||\n            !parsed[\"@type\"].match(this.REGEXPS.jsonLdArticleTypes)\n          ) {\n            return;\n          }\n\n          metadata = {};\n\n          if (typeof parsed.name === \"string\" && typeof parsed.headline === \"string\" && parsed.name !== parsed.headline) {\n            // we have both name and headline element in the JSON-LD. They should both be the same but some websites like aktualne.cz\n            // put their own name into \"name\" and the article title to \"headline\" which confuses Readability. So we try to check if either\n            // \"name\" or \"headline\" closely matches the html title, and if so, use that one. If not, then we use \"name\" by default.\n\n            var title = this._getArticleTitle();\n            var nameMatches = this._textSimilarity(parsed.name, title) > 0.75;\n            var headlineMatches = this._textSimilarity(parsed.headline, title) > 0.75;\n\n            if (headlineMatches && !nameMatches) {\n              metadata.title = parsed.headline;\n            } else {\n              metadata.title = parsed.name;\n            }\n          } else if (typeof parsed.name === \"string\") {\n            metadata.title = parsed.name.trim();\n          } else if (typeof parsed.headline === \"string\") {\n            metadata.title = parsed.headline.trim();\n          }\n          if (parsed.author) {\n            if (typeof parsed.author.name === \"string\") {\n              metadata.byline = parsed.author.name.trim();\n            } else if (Array.isArray(parsed.author) && parsed.author[0] && typeof parsed.author[0].name === \"string\") {\n              metadata.byline = parsed.author\n                .filter(function(author) {\n                  return author && typeof author.name === \"string\";\n                })\n                .map(function(author) {\n                  return author.name.trim();\n                })\n                .join(\", \");\n            }\n          }\n          if (typeof parsed.description === \"string\") {\n            metadata.excerpt = parsed.description.trim();\n          }\n          if (\n            parsed.publisher &&\n            typeof parsed.publisher.name === \"string\"\n          ) {\n            metadata.siteName = parsed.publisher.name.trim();\n          }\n          if (typeof parsed.datePublished === \"string\") {\n            metadata.datePublished = parsed.datePublished.trim();\n          }\n          return;\n        } catch (err) {\n          this.log(err.message);\n        }\n      }\n    });\n    return metadata ? metadata : {};\n  },\n\n  /**\n   * Attempts to get excerpt and byline metadata for the article.\n   *\n   * @param {Object} jsonld — object containing any metadata that\n   * could be extracted from JSON-LD object.\n   *\n   * @return Object with optional \"excerpt\" and \"byline\" properties\n   */\n  _getArticleMetadata: function(jsonld) {\n    var metadata = {};\n    var values = {};\n    var metaElements = this._doc.getElementsByTagName(\"meta\");\n\n    // property is a space-separated list of values\n    var propertyPattern = /\\s*(article|dc|dcterm|og|twitter)\\s*:\\s*(author|creator|description|published_time|title|site_name)\\s*/gi;\n\n    // name is a single value\n    var namePattern = /^\\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\\s*[\\.:]\\s*)?(author|creator|description|title|site_name)\\s*$/i;\n\n    // Find description tags.\n    this._forEachNode(metaElements, function(element) {\n      var elementName = element.getAttribute(\"name\");\n      var elementProperty = element.getAttribute(\"property\");\n      var content = element.getAttribute(\"content\");\n      if (!content) {\n        return;\n      }\n      var matches = null;\n      var name = null;\n\n      if (elementProperty) {\n        matches = elementProperty.match(propertyPattern);\n        if (matches) {\n          // Convert to lowercase, and remove any whitespace\n          // so we can match below.\n          name = matches[0].toLowerCase().replace(/\\s/g, \"\");\n          // multiple authors\n          values[name] = content.trim();\n        }\n      }\n      if (!matches && elementName && namePattern.test(elementName)) {\n        name = elementName;\n        if (content) {\n          // Convert to lowercase, remove any whitespace, and convert dots\n          // to colons so we can match below.\n          name = name.toLowerCase().replace(/\\s/g, \"\").replace(/\\./g, \":\");\n          values[name] = content.trim();\n        }\n      }\n    });\n\n    // get title\n    metadata.title = jsonld.title ||\n                     values[\"dc:title\"] ||\n                     values[\"dcterm:title\"] ||\n                     values[\"og:title\"] ||\n                     values[\"weibo:article:title\"] ||\n                     values[\"weibo:webpage:title\"] ||\n                     values[\"title\"] ||\n                     values[\"twitter:title\"];\n\n    if (!metadata.title) {\n      metadata.title = this._getArticleTitle();\n    }\n\n    // get author\n    metadata.byline = jsonld.byline ||\n                      values[\"dc:creator\"] ||\n                      values[\"dcterm:creator\"] ||\n                      values[\"author\"];\n\n    // get description\n    metadata.excerpt = jsonld.excerpt ||\n                       values[\"dc:description\"] ||\n                       values[\"dcterm:description\"] ||\n                       values[\"og:description\"] ||\n                       values[\"weibo:article:description\"] ||\n                       values[\"weibo:webpage:description\"] ||\n                       values[\"description\"] ||\n                       values[\"twitter:description\"];\n\n    // get site name\n    metadata.siteName = jsonld.siteName ||\n                        values[\"og:site_name\"];\n\n    // get article published time\n    metadata.publishedTime = jsonld.datePublished ||\n      values[\"article:published_time\"] || null;\n\n    // in many sites the meta value is escaped with HTML entities,\n    // so here we need to unescape it\n    metadata.title = this._unescapeHtmlEntities(metadata.title);\n    metadata.byline = this._unescapeHtmlEntities(metadata.byline);\n    metadata.excerpt = this._unescapeHtmlEntities(metadata.excerpt);\n    metadata.siteName = this._unescapeHtmlEntities(metadata.siteName);\n    metadata.publishedTime = this._unescapeHtmlEntities(metadata.publishedTime);\n\n    return metadata;\n  },\n\n  /**\n   * Check if node is image, or if node contains exactly only one image\n   * whether as a direct child or as its descendants.\n   *\n   * @param Element\n  **/\n  _isSingleImage: function(node) {\n    if (node.tagName === \"IMG\") {\n      return true;\n    }\n\n    if (node.children.length !== 1 || node.textContent.trim() !== \"\") {\n      return false;\n    }\n\n    return this._isSingleImage(node.children[0]);\n  },\n\n  /**\n   * Find all <noscript> that are located after <img> nodes, and which contain only one\n   * <img> element. Replace the first image with the image from inside the <noscript> tag,\n   * and remove the <noscript> tag. This improves the quality of the images we use on\n   * some sites (e.g. Medium).\n   *\n   * @param Element\n  **/\n  _unwrapNoscriptImages: function(doc) {\n    // Find img without source or attributes that might contains image, and remove it.\n    // This is done to prevent a placeholder img is replaced by img from noscript in next step.\n    var imgs = Array.from(doc.getElementsByTagName(\"img\"));\n    this._forEachNode(imgs, function(img) {\n      for (var i = 0; i < img.attributes.length; i++) {\n        var attr = img.attributes[i];\n        switch (attr.name) {\n          case \"src\":\n          case \"srcset\":\n          case \"data-src\":\n          case \"data-srcset\":\n            return;\n        }\n\n        if (/\\.(jpg|jpeg|png|webp)/i.test(attr.value)) {\n          return;\n        }\n      }\n\n      img.parentNode.removeChild(img);\n    });\n\n    // Next find noscript and try to extract its image\n    var noscripts = Array.from(doc.getElementsByTagName(\"noscript\"));\n    this._forEachNode(noscripts, function(noscript) {\n      // Parse content of noscript and make sure it only contains image\n      var tmp = doc.createElement(\"div\");\n      tmp.innerHTML = noscript.innerHTML;\n      if (!this._isSingleImage(tmp)) {\n        return;\n      }\n\n      // If noscript has previous sibling and it only contains image,\n      // replace it with noscript content. However we also keep old\n      // attributes that might contains image.\n      var prevElement = noscript.previousElementSibling;\n      if (prevElement && this._isSingleImage(prevElement)) {\n        var prevImg = prevElement;\n        if (prevImg.tagName !== \"IMG\") {\n          prevImg = prevElement.getElementsByTagName(\"img\")[0];\n        }\n\n        var newImg = tmp.getElementsByTagName(\"img\")[0];\n        for (var i = 0; i < prevImg.attributes.length; i++) {\n          var attr = prevImg.attributes[i];\n          if (attr.value === \"\") {\n            continue;\n          }\n\n          if (attr.name === \"src\" || attr.name === \"srcset\" || /\\.(jpg|jpeg|png|webp)/i.test(attr.value)) {\n            if (newImg.getAttribute(attr.name) === attr.value) {\n              continue;\n            }\n\n            var attrName = attr.name;\n            if (newImg.hasAttribute(attrName)) {\n              attrName = \"data-old-\" + attrName;\n            }\n\n            newImg.setAttribute(attrName, attr.value);\n          }\n        }\n\n        noscript.parentNode.replaceChild(tmp.firstElementChild, prevElement);\n      }\n    });\n  },\n\n  /**\n   * Removes script tags from the document.\n   *\n   * @param Element\n  **/\n  _removeScripts: function(doc) {\n    this._removeNodes(this._getAllNodesWithTag(doc, [\"script\", \"noscript\"]));\n  },\n\n  /**\n   * Check if this node has only whitespace and a single element with given tag\n   * Returns false if the DIV node contains non-empty text nodes\n   * or if it contains no element with given tag or more than 1 element.\n   *\n   * @param Element\n   * @param string tag of child element\n  **/\n  _hasSingleTagInsideElement: function(element, tag) {\n    // There should be exactly 1 element child with given tag\n    if (element.children.length != 1 || element.children[0].tagName !== tag) {\n      return false;\n    }\n\n    // And there should be no text nodes with real content\n    return !this._someNode(element.childNodes, function(node) {\n      return node.nodeType === this.TEXT_NODE &&\n             this.REGEXPS.hasContent.test(node.textContent);\n    });\n  },\n\n  _isElementWithoutContent: function(node) {\n    return node.nodeType === this.ELEMENT_NODE &&\n      node.textContent.trim().length == 0 &&\n      (node.children.length == 0 ||\n       node.children.length == node.getElementsByTagName(\"br\").length + node.getElementsByTagName(\"hr\").length);\n  },\n\n  /**\n   * Determine whether element has any children block level elements.\n   *\n   * @param Element\n   */\n  _hasChildBlockElement: function (element) {\n    return this._someNode(element.childNodes, function(node) {\n      return this.DIV_TO_P_ELEMS.has(node.tagName) ||\n             this._hasChildBlockElement(node);\n    });\n  },\n\n  /***\n   * Determine if a node qualifies as phrasing content.\n   * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n  **/\n  _isPhrasingContent: function(node) {\n    return node.nodeType === this.TEXT_NODE || this.PHRASING_ELEMS.indexOf(node.tagName) !== -1 ||\n      ((node.tagName === \"A\" || node.tagName === \"DEL\" || node.tagName === \"INS\") &&\n        this._everyNode(node.childNodes, this._isPhrasingContent));\n  },\n\n  _isWhitespace: function(node) {\n    return (node.nodeType === this.TEXT_NODE && node.textContent.trim().length === 0) ||\n           (node.nodeType === this.ELEMENT_NODE && node.tagName === \"BR\");\n  },\n\n  /**\n   * Get the inner text of a node - cross browser compatibly.\n   * This also strips out any excess whitespace to be found.\n   *\n   * @param Element\n   * @param Boolean normalizeSpaces (default: true)\n   * @return string\n  **/\n  _getInnerText: function(e, normalizeSpaces) {\n    normalizeSpaces = (typeof normalizeSpaces === \"undefined\") ? true : normalizeSpaces;\n    var textContent = e.textContent.trim();\n\n    if (normalizeSpaces) {\n      return textContent.replace(this.REGEXPS.normalize, \" \");\n    }\n    return textContent;\n  },\n\n  /**\n   * Get the number of times a string s appears in the node e.\n   *\n   * @param Element\n   * @param string - what to split on. Default is \",\"\n   * @return number (integer)\n  **/\n  _getCharCount: function(e, s) {\n    s = s || \",\";\n    return this._getInnerText(e).split(s).length - 1;\n  },\n\n  /**\n   * Remove the style attribute on every e and under.\n   * TODO: Test if getElementsByTagName(*) is faster.\n   *\n   * @param Element\n   * @return void\n  **/\n  _cleanStyles: function(e) {\n    if (!e || e.tagName.toLowerCase() === \"svg\")\n      return;\n\n    // Remove `style` and deprecated presentational attributes\n    for (var i = 0; i < this.PRESENTATIONAL_ATTRIBUTES.length; i++) {\n      e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[i]);\n    }\n\n    if (this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName) !== -1) {\n      e.removeAttribute(\"width\");\n      e.removeAttribute(\"height\");\n    }\n\n    var cur = e.firstElementChild;\n    while (cur !== null) {\n      this._cleanStyles(cur);\n      cur = cur.nextElementSibling;\n    }\n  },\n\n  /**\n   * Get the density of links as a percentage of the content\n   * This is the amount of text that is inside a link divided by the total text in the node.\n   *\n   * @param Element\n   * @return number (float)\n  **/\n  _getLinkDensity: function(element) {\n    var textLength = this._getInnerText(element).length;\n    if (textLength === 0)\n      return 0;\n\n    var linkLength = 0;\n\n    // XXX implement _reduceNodeList?\n    this._forEachNode(element.getElementsByTagName(\"a\"), function(linkNode) {\n      var href = linkNode.getAttribute(\"href\");\n      var coefficient = href && this.REGEXPS.hashUrl.test(href) ? 0.3 : 1;\n      linkLength += this._getInnerText(linkNode).length * coefficient;\n    });\n\n    return linkLength / textLength;\n  },\n\n  /**\n   * Get an elements class/id weight. Uses regular expressions to tell if this\n   * element looks good or bad.\n   *\n   * @param Element\n   * @return number (Integer)\n  **/\n  _getClassWeight: function(e) {\n    if (!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))\n      return 0;\n\n    var weight = 0;\n\n    // Look for a special classname\n    if (typeof(e.className) === \"string\" && e.className !== \"\") {\n      if (this.REGEXPS.negative.test(e.className))\n        weight -= 25;\n\n      if (this.REGEXPS.positive.test(e.className))\n        weight += 25;\n    }\n\n    // Look for a special ID\n    if (typeof(e.id) === \"string\" && e.id !== \"\") {\n      if (this.REGEXPS.negative.test(e.id))\n        weight -= 25;\n\n      if (this.REGEXPS.positive.test(e.id))\n        weight += 25;\n    }\n\n    return weight;\n  },\n\n  /**\n   * Clean a node of all elements of type \"tag\".\n   * (Unless it's a youtube/vimeo video. People love movies.)\n   *\n   * @param Element\n   * @param string tag to clean\n   * @return void\n   **/\n  _clean: function(e, tag) {\n    var isEmbed = [\"object\", \"embed\", \"iframe\"].indexOf(tag) !== -1;\n\n    this._removeNodes(this._getAllNodesWithTag(e, [tag]), function(element) {\n      // Allow youtube and vimeo videos through as people usually want to see those.\n      if (isEmbed) {\n        // First, check the elements attributes to see if any of them contain youtube or vimeo\n        for (var i = 0; i < element.attributes.length; i++) {\n          if (this._allowedVideoRegex.test(element.attributes[i].value)) {\n            return false;\n          }\n        }\n\n        // For embed with <object> tag, check inner HTML as well.\n        if (element.tagName === \"object\" && this._allowedVideoRegex.test(element.innerHTML)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  },\n\n  /**\n   * Check if a given node has one of its ancestor tag name matching the\n   * provided one.\n   * @param  HTMLElement node\n   * @param  String      tagName\n   * @param  Number      maxDepth\n   * @param  Function    filterFn a filter to invoke to determine whether this node 'counts'\n   * @return Boolean\n   */\n  _hasAncestorTag: function(node, tagName, maxDepth, filterFn) {\n    maxDepth = maxDepth || 3;\n    tagName = tagName.toUpperCase();\n    var depth = 0;\n    while (node.parentNode) {\n      if (maxDepth > 0 && depth > maxDepth)\n        return false;\n      if (node.parentNode.tagName === tagName && (!filterFn || filterFn(node.parentNode)))\n        return true;\n      node = node.parentNode;\n      depth++;\n    }\n    return false;\n  },\n\n  /**\n   * Return an object indicating how many rows and columns this table has.\n   */\n  _getRowAndColumnCount: function(table) {\n    var rows = 0;\n    var columns = 0;\n    var trs = table.getElementsByTagName(\"tr\");\n    for (var i = 0; i < trs.length; i++) {\n      var rowspan = trs[i].getAttribute(\"rowspan\") || 0;\n      if (rowspan) {\n        rowspan = parseInt(rowspan, 10);\n      }\n      rows += (rowspan || 1);\n\n      // Now look for column-related info\n      var columnsInThisRow = 0;\n      var cells = trs[i].getElementsByTagName(\"td\");\n      for (var j = 0; j < cells.length; j++) {\n        var colspan = cells[j].getAttribute(\"colspan\") || 0;\n        if (colspan) {\n          colspan = parseInt(colspan, 10);\n        }\n        columnsInThisRow += (colspan || 1);\n      }\n      columns = Math.max(columns, columnsInThisRow);\n    }\n    return {rows: rows, columns: columns};\n  },\n\n  /**\n   * Look for 'data' (as opposed to 'layout') tables, for which we use\n   * similar checks as\n   * https://searchfox.org/mozilla-central/rev/f82d5c549f046cb64ce5602bfd894b7ae807c8f8/accessible/generic/TableAccessible.cpp#19\n   */\n  _markDataTables: function(root) {\n    var tables = root.getElementsByTagName(\"table\");\n    for (var i = 0; i < tables.length; i++) {\n      var table = tables[i];\n      var role = table.getAttribute(\"role\");\n      if (role == \"presentation\") {\n        table._readabilityDataTable = false;\n        continue;\n      }\n      var datatable = table.getAttribute(\"datatable\");\n      if (datatable == \"0\") {\n        table._readabilityDataTable = false;\n        continue;\n      }\n      var summary = table.getAttribute(\"summary\");\n      if (summary) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      var caption = table.getElementsByTagName(\"caption\")[0];\n      if (caption && caption.childNodes.length > 0) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      // If the table has a descendant with any of these tags, consider a data table:\n      var dataTableDescendants = [\"col\", \"colgroup\", \"tfoot\", \"thead\", \"th\"];\n      var descendantExists = function(tag) {\n        return !!table.getElementsByTagName(tag)[0];\n      };\n      if (dataTableDescendants.some(descendantExists)) {\n        this.log(\"Data table because found data-y descendant\");\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      // Nested tables indicate a layout table:\n      if (table.getElementsByTagName(\"table\")[0]) {\n        table._readabilityDataTable = false;\n        continue;\n      }\n\n      var sizeInfo = this._getRowAndColumnCount(table);\n      if (sizeInfo.rows >= 10 || sizeInfo.columns > 4) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n      // Now just go by size entirely:\n      table._readabilityDataTable = sizeInfo.rows * sizeInfo.columns > 10;\n    }\n  },\n\n  /* convert images and figures that have properties like data-src into images that can be loaded without JS */\n  _fixLazyImages: function (root) {\n    this._forEachNode(this._getAllNodesWithTag(root, [\"img\", \"picture\", \"figure\"]), function (elem) {\n      // In some sites (e.g. Kotaku), they put 1px square image as base64 data uri in the src attribute.\n      // So, here we check if the data uri is too short, just might as well remove it.\n      if (elem.src && this.REGEXPS.b64DataUrl.test(elem.src)) {\n        // Make sure it's not SVG, because SVG can have a meaningful image in under 133 bytes.\n        var parts = this.REGEXPS.b64DataUrl.exec(elem.src);\n        if (parts[1] === \"image/svg+xml\") {\n          return;\n        }\n\n        // Make sure this element has other attributes which contains image.\n        // If it doesn't, then this src is important and shouldn't be removed.\n        var srcCouldBeRemoved = false;\n        for (var i = 0; i < elem.attributes.length; i++) {\n          var attr = elem.attributes[i];\n          if (attr.name === \"src\") {\n            continue;\n          }\n\n          if (/\\.(jpg|jpeg|png|webp)/i.test(attr.value)) {\n            srcCouldBeRemoved = true;\n            break;\n          }\n        }\n\n        // Here we assume if image is less than 100 bytes (or 133B after encoded to base64)\n        // it will be too small, therefore it might be placeholder image.\n        if (srcCouldBeRemoved) {\n          var b64starts = elem.src.search(/base64\\s*/i) + 7;\n          var b64length = elem.src.length - b64starts;\n          if (b64length < 133) {\n            elem.removeAttribute(\"src\");\n          }\n        }\n      }\n\n      // also check for \"null\" to work around https://github.com/jsdom/jsdom/issues/2580\n      if ((elem.src || (elem.srcset && elem.srcset != \"null\")) && elem.className.toLowerCase().indexOf(\"lazy\") === -1) {\n        return;\n      }\n\n      for (var j = 0; j < elem.attributes.length; j++) {\n        attr = elem.attributes[j];\n        if (attr.name === \"src\" || attr.name === \"srcset\" || attr.name === \"alt\") {\n          continue;\n        }\n        var copyTo = null;\n        if (/\\.(jpg|jpeg|png|webp)\\s+\\d/.test(attr.value)) {\n          copyTo = \"srcset\";\n        } else if (/^\\s*\\S+\\.(jpg|jpeg|png|webp)\\S*\\s*$/.test(attr.value)) {\n          copyTo = \"src\";\n        }\n        if (copyTo) {\n          //if this is an img or picture, set the attribute directly\n          if (elem.tagName === \"IMG\" || elem.tagName === \"PICTURE\") {\n            elem.setAttribute(copyTo, attr.value);\n          } else if (elem.tagName === \"FIGURE\" && !this._getAllNodesWithTag(elem, [\"img\", \"picture\"]).length) {\n            //if the item is a <figure> that does not contain an image or picture, create one and place it inside the figure\n            //see the nytimes-3 testcase for an example\n            var img = this._doc.createElement(\"img\");\n            img.setAttribute(copyTo, attr.value);\n            elem.appendChild(img);\n          }\n        }\n      }\n    });\n  },\n\n  _getTextDensity: function(e, tags) {\n    var textLength = this._getInnerText(e, true).length;\n    if (textLength === 0) {\n      return 0;\n    }\n    var childrenLength = 0;\n    var children = this._getAllNodesWithTag(e, tags);\n    this._forEachNode(children, (child) => childrenLength += this._getInnerText(child, true).length);\n    return childrenLength / textLength;\n  },\n\n  /**\n   * Clean an element of all tags of type \"tag\" if they look fishy.\n   * \"Fishy\" is an algorithm based on content length, classnames, link density, number of images & embeds, etc.\n   *\n   * @return void\n   **/\n  _cleanConditionally: function(e, tag) {\n    if (!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))\n      return;\n\n    // Gather counts for other typical elements embedded within.\n    // Traverse backwards so we can remove nodes at the same time\n    // without effecting the traversal.\n    //\n    // TODO: Consider taking into account original contentScore here.\n    this._removeNodes(this._getAllNodesWithTag(e, [tag]), function(node) {\n      // First check if this node IS data table, in which case don't remove it.\n      var isDataTable = function(t) {\n        return t._readabilityDataTable;\n      };\n\n      var isList = tag === \"ul\" || tag === \"ol\";\n      if (!isList) {\n        var listLength = 0;\n        var listNodes = this._getAllNodesWithTag(node, [\"ul\", \"ol\"]);\n        this._forEachNode(listNodes, (list) => listLength += this._getInnerText(list).length);\n        isList = listLength / this._getInnerText(node).length > 0.9;\n      }\n\n      if (tag === \"table\" && isDataTable(node)) {\n        return false;\n      }\n\n      // Next check if we're inside a data table, in which case don't remove it as well.\n      if (this._hasAncestorTag(node, \"table\", -1, isDataTable)) {\n        return false;\n      }\n\n      if (this._hasAncestorTag(node, \"code\")) {\n        return false;\n      }\n\n      var weight = this._getClassWeight(node);\n\n      this.log(\"Cleaning Conditionally\", node);\n\n      var contentScore = 0;\n\n      if (weight + contentScore < 0) {\n        return true;\n      }\n\n      if (this._getCharCount(node, \",\") < 10) {\n        // If there are not very many commas, and the number of\n        // non-paragraph elements is more than paragraphs or other\n        // ominous signs, remove the element.\n        var p = node.getElementsByTagName(\"p\").length;\n        var img = node.getElementsByTagName(\"img\").length;\n        var li = node.getElementsByTagName(\"li\").length - 100;\n        var input = node.getElementsByTagName(\"input\").length;\n        var headingDensity = this._getTextDensity(node, [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]);\n\n        var embedCount = 0;\n        var embeds = this._getAllNodesWithTag(node, [\"object\", \"embed\", \"iframe\"]);\n\n        for (var i = 0; i < embeds.length; i++) {\n          // If this embed has attribute that matches video regex, don't delete it.\n          for (var j = 0; j < embeds[i].attributes.length; j++) {\n            if (this._allowedVideoRegex.test(embeds[i].attributes[j].value)) {\n              return false;\n            }\n          }\n\n          // For embed with <object> tag, check inner HTML as well.\n          if (embeds[i].tagName === \"object\" && this._allowedVideoRegex.test(embeds[i].innerHTML)) {\n            return false;\n          }\n\n          embedCount++;\n        }\n\n        var linkDensity = this._getLinkDensity(node);\n        var contentLength = this._getInnerText(node).length;\n\n        var haveToRemove =\n          (img > 1 && p / img < 0.5 && !this._hasAncestorTag(node, \"figure\")) ||\n          (!isList && li > p) ||\n          (input > Math.floor(p/3)) ||\n          (!isList && headingDensity < 0.9 && contentLength < 25 && (img === 0 || img > 2) && !this._hasAncestorTag(node, \"figure\")) ||\n          (!isList && weight < 25 && linkDensity > 0.2) ||\n          (weight >= 25 && linkDensity > 0.5) ||\n          ((embedCount === 1 && contentLength < 75) || embedCount > 1);\n        // Allow simple lists of images to remain in pages\n        if (isList && haveToRemove) {\n          for (var x = 0; x < node.children.length; x++) {\n            let child = node.children[x];\n            // Don't filter in lists with li's that contain more than one child\n            if (child.children.length > 1) {\n              return haveToRemove;\n            }\n          }\n          let li_count = node.getElementsByTagName(\"li\").length;\n          // Only allow the list to remain if every li contains an image\n          if (img == li_count) {\n            return false;\n          }\n        }\n        return haveToRemove;\n      }\n      return false;\n    });\n  },\n\n  /**\n   * Clean out elements that match the specified conditions\n   *\n   * @param Element\n   * @param Function determines whether a node should be removed\n   * @return void\n   **/\n  _cleanMatchedNodes: function(e, filter) {\n    var endOfSearchMarkerNode = this._getNextNode(e, true);\n    var next = this._getNextNode(e);\n    while (next && next != endOfSearchMarkerNode) {\n      if (filter.call(this, next, next.className + \" \" + next.id)) {\n        next = this._removeAndGetNext(next);\n      } else {\n        next = this._getNextNode(next);\n      }\n    }\n  },\n\n  /**\n   * Clean out spurious headers from an Element.\n   *\n   * @param Element\n   * @return void\n  **/\n  _cleanHeaders: function(e) {\n    let headingNodes = this._getAllNodesWithTag(e, [\"h1\", \"h2\"]);\n    this._removeNodes(headingNodes, function(node) {\n      let shouldRemove = this._getClassWeight(node) < 0;\n      if (shouldRemove) {\n        this.log(\"Removing header with low class weight:\", node);\n      }\n      return shouldRemove;\n    });\n  },\n\n  /**\n   * Check if this node is an H1 or H2 element whose content is mostly\n   * the same as the article title.\n   *\n   * @param Element  the node to check.\n   * @return boolean indicating whether this is a title-like header.\n   */\n  _headerDuplicatesTitle: function(node) {\n    if (node.tagName != \"H1\" && node.tagName != \"H2\") {\n      return false;\n    }\n    var heading = this._getInnerText(node, false);\n    this.log(\"Evaluating similarity of header:\", heading, this._articleTitle);\n    return this._textSimilarity(this._articleTitle, heading) > 0.75;\n  },\n\n  _flagIsActive: function(flag) {\n    return (this._flags & flag) > 0;\n  },\n\n  _removeFlag: function(flag) {\n    this._flags = this._flags & ~flag;\n  },\n\n  _isProbablyVisible: function(node) {\n    // Have to null-check node.style and node.className.indexOf to deal with SVG and MathML nodes.\n    return (!node.style || node.style.display != \"none\")\n      && (!node.style || node.style.visibility != \"hidden\")\n      && !node.hasAttribute(\"hidden\")\n      //check for \"fallback-image\" so that wikimedia math images are displayed\n      && (!node.hasAttribute(\"aria-hidden\") || node.getAttribute(\"aria-hidden\") != \"true\" || (node.className && node.className.indexOf && node.className.indexOf(\"fallback-image\") !== -1));\n  },\n\n  /**\n   * Runs readability.\n   *\n   * Workflow:\n   *  1. Prep the document by removing script tags, css, etc.\n   *  2. Build readability's DOM tree.\n   *  3. Grab the article content from the current dom tree.\n   *  4. Replace the current DOM tree with the new one.\n   *  5. Read peacefully.\n   *\n   * @return void\n   **/\n  parse: function () {\n    // Avoid parsing too large documents, as per configuration option\n    if (this._maxElemsToParse > 0) {\n      var numTags = this._doc.getElementsByTagName(\"*\").length;\n      if (numTags > this._maxElemsToParse) {\n        throw new Error(\"Aborting parsing document; \" + numTags + \" elements found\");\n      }\n    }\n\n    // Unwrap image from noscript\n    this._unwrapNoscriptImages(this._doc);\n\n    // Extract JSON-LD metadata before removing scripts\n    var jsonLd = this._disableJSONLD ? {} : this._getJSONLD(this._doc);\n\n    // Remove script tags from the document.\n    this._removeScripts(this._doc);\n\n    this._prepDocument();\n\n    var metadata = this._getArticleMetadata(jsonLd);\n    this._articleTitle = metadata.title;\n\n    var articleContent = this._grabArticle();\n    if (!articleContent)\n      return null;\n\n    this.log(\"Grabbed: \" + articleContent.innerHTML);\n\n    this._postProcessContent(articleContent);\n\n    // If we haven't found an excerpt in the article's metadata, use the article's\n    // first paragraph as the excerpt. This is used for displaying a preview of\n    // the article's content.\n    if (!metadata.excerpt) {\n      var paragraphs = articleContent.getElementsByTagName(\"p\");\n      if (paragraphs.length > 0) {\n        metadata.excerpt = paragraphs[0].textContent.trim();\n      }\n    }\n\n    var textContent = articleContent.textContent;\n    return {\n      title: this._articleTitle,\n      byline: metadata.byline || this._articleByline,\n      dir: this._articleDir,\n      lang: this._articleLang,\n      content: this._serializer(articleContent),\n      textContent: textContent,\n      length: textContent.length,\n      excerpt: metadata.excerpt,\n      siteName: metadata.siteName || this._articleSiteName,\n      publishedTime: metadata.publishedTime\n    };\n  }\n};\n\nif (typeof module === \"object\") {\n  /* global module */\n  module.exports = Readability;\n}\n","/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\nvar REGEXPS = {\n  // NOTE: These two regular expressions are duplicated in\n  // Readability.js. Please keep both copies in sync.\n  unlikelyCandidates: /-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n  okMaybeItsACandidate: /and|article|body|column|content|main|shadow/i,\n};\n\nfunction isNodeVisible(node) {\n  // Have to null-check node.style and node.className.indexOf to deal with SVG and MathML nodes.\n  return (!node.style || node.style.display != \"none\")\n    && !node.hasAttribute(\"hidden\")\n    //check for \"fallback-image\" so that wikimedia math images are displayed\n    && (!node.hasAttribute(\"aria-hidden\") || node.getAttribute(\"aria-hidden\") != \"true\" || (node.className && node.className.indexOf && node.className.indexOf(\"fallback-image\") !== -1));\n}\n\n/**\n * Decides whether or not the document is reader-able without parsing the whole thing.\n * @param {Object} options Configuration object.\n * @param {number} [options.minContentLength=140] The minimum node content length used to decide if the document is readerable.\n * @param {number} [options.minScore=20] The minumum cumulated 'score' used to determine if the document is readerable.\n * @param {Function} [options.visibilityChecker=isNodeVisible] The function used to determine if a node is visible.\n * @return {boolean} Whether or not we suspect Readability.parse() will suceeed at returning an article object.\n */\nfunction isProbablyReaderable(doc, options = {}) {\n  // For backward compatibility reasons 'options' can either be a configuration object or the function used\n  // to determine if a node is visible.\n  if (typeof options == \"function\") {\n    options = { visibilityChecker: options };\n  }\n\n  var defaultOptions = { minScore: 20, minContentLength: 140, visibilityChecker: isNodeVisible };\n  options = Object.assign(defaultOptions, options);\n\n  var nodes = doc.querySelectorAll(\"p, pre, article\");\n\n  // Get <div> nodes which have <br> node(s) and append them into the `nodes` variable.\n  // Some articles' DOM structures might look like\n  // <div>\n  //   Sentences<br>\n  //   <br>\n  //   Sentences<br>\n  // </div>\n  var brNodes = doc.querySelectorAll(\"div > br\");\n  if (brNodes.length) {\n    var set = new Set(nodes);\n    [].forEach.call(brNodes, function (node) {\n      set.add(node.parentNode);\n    });\n    nodes = Array.from(set);\n  }\n\n  var score = 0;\n  // This is a little cheeky, we use the accumulator 'score' to decide what to return from\n  // this callback:\n  return [].some.call(nodes, function (node) {\n    if (!options.visibilityChecker(node)) {\n      return false;\n    }\n\n    var matchString = node.className + \" \" + node.id;\n    if (REGEXPS.unlikelyCandidates.test(matchString) &&\n        !REGEXPS.okMaybeItsACandidate.test(matchString)) {\n      return false;\n    }\n\n    if (node.matches(\"li p\")) {\n      return false;\n    }\n\n    var textContentLength = node.textContent.trim().length;\n    if (textContentLength < options.minContentLength) {\n      return false;\n    }\n\n    score += Math.sqrt(textContentLength - options.minContentLength);\n\n    if (score > options.minScore) {\n      return true;\n    }\n    return false;\n  });\n}\n\nif (typeof module === \"object\") {\n  /* global module */\n  module.exports = isProbablyReaderable;\n}\n","/* eslint-env node */\nvar Readability = require(\"./Readability\");\nvar isProbablyReaderable = require(\"./Readability-readerable\");\n\nmodule.exports = {\n  Readability: Readability,\n  isProbablyReaderable: isProbablyReaderable\n};\n","import { Readability } from \"@mozilla/readability\";\nimport { PageDescription } from \"./types\";\n\nconst getAbsoluteURL = (baseURL: string, href: string) => {\n  const isAbsolute =\n    href.startsWith(\"http:\") ||\n    href.startsWith(\"https:\") ||\n    href.startsWith(\"//\");\n\n  if (isAbsolute) return href;\n\n  try {\n    const url = new URL(href, baseURL);\n    return url.href;\n  } catch (e) {\n    console.error(e);\n    return null;\n  }\n};\n\nexport const linksFromDOM = (page: PageDescription) => {\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(page.htmlContent, \"text/html\");\n  const baseEl = document.createElement(\"base\");\n  baseEl.href = page.baseURL;\n  doc.head.append(baseEl);\n  const readableDOM = new Readability<HTMLElement>(doc, {\n    serializer: (el: any) => {\n      el.querySelectorAll(\"a\").forEach((a: HTMLAnchorElement) => {\n        const href = getAbsoluteURL(page.baseURL, a.href);\n        if (href) {\n          a.setAttribute(\"href\", href);\n        } else {\n          a.remove();\n        }\n      });\n\n      return el;\n    },\n  }).parse();\n\n  const allLinkElements =\n    readableDOM!.content.querySelectorAll<HTMLAnchorElement>(\"a\")!;\n  const allLinks = Array.from(allLinkElements)\n    .filter((link) => link.href && link.textContent)\n    .map((link) => {\n      const href = getAbsoluteURL(page.baseURL, link.href);\n      if (!href) return null;\n      return {\n        href: link.href,\n        text: link.textContent,\n      };\n    })\n    .filter(Boolean)\n    .filter((link) => link.href && link.text);\n\n  return allLinks;\n};\n","function i(){throw new Error(\"Cycle detected\")}var t=Symbol.for(\"preact-signals\");function r(){if(!(v>1)){var i,t=!1;while(void 0!==f){var r=f;f=void 0;e++;while(void 0!==r){var n=r.o;r.o=void 0;r.f&=-3;if(!(8&r.f)&&l(r))try{r.c()}catch(r){if(!t){i=r;t=!0}}r=n}}e=0;v--;if(t)throw i}else v--}function n(i){if(v>0)return i();v++;try{return i()}finally{r()}}var o=void 0,h=0;function s(i){if(h>0)return i();var t=o;o=void 0;h++;try{return i()}finally{h--;o=t}}var f=void 0,v=0,e=0,u=0;function c(i){if(void 0!==o){var t=i.n;if(void 0===t||t.t!==o){t={i:0,S:i,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t};if(void 0!==o.s)o.s.n=t;o.s=t;i.n=t;if(32&o.f)i.S(t);return t}else if(-1===t.i){t.i=0;if(void 0!==t.n){t.n.p=t.p;if(void 0!==t.p)t.p.n=t.n;t.p=o.s;t.n=void 0;o.s.n=t;o.s=t}return t}}}function d(i){this.v=i;this.i=0;this.n=void 0;this.t=void 0}d.prototype.brand=t;d.prototype.h=function(){return!0};d.prototype.S=function(i){if(this.t!==i&&void 0===i.e){i.x=this.t;if(void 0!==this.t)this.t.e=i;this.t=i}};d.prototype.U=function(i){if(void 0!==this.t){var t=i.e,r=i.x;if(void 0!==t){t.x=r;i.e=void 0}if(void 0!==r){r.e=t;i.x=void 0}if(i===this.t)this.t=r}};d.prototype.subscribe=function(i){var t=this;return O(function(){var r=t.value,n=32&this.f;this.f&=-33;try{i(r)}finally{this.f|=n}})};d.prototype.valueOf=function(){return this.value};d.prototype.toString=function(){return this.value+\"\"};d.prototype.toJSON=function(){return this.value};d.prototype.peek=function(){return this.v};Object.defineProperty(d.prototype,\"value\",{get:function(){var i=c(this);if(void 0!==i)i.i=this.i;return this.v},set:function(t){if(o instanceof _)!function(){throw new Error(\"Computed cannot have side-effects\")}();if(t!==this.v){if(e>100)i();this.v=t;this.i++;u++;v++;try{for(var n=this.t;void 0!==n;n=n.x)n.t.N()}finally{r()}}}});function a(i){return new d(i)}function l(i){for(var t=i.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function y(i){for(var t=i.s;void 0!==t;t=t.n){var r=t.S.n;if(void 0!==r)t.r=r;t.S.n=t;t.i=-1;if(void 0===t.n){i.s=t;break}}}function w(i){var t=i.s,r=void 0;while(void 0!==t){var n=t.p;if(-1===t.i){t.S.U(t);if(void 0!==n)n.n=t.n;if(void 0!==t.n)t.n.p=n}else r=t;t.S.n=t.r;if(void 0!==t.r)t.r=void 0;t=n}i.s=r}function _(i){d.call(this,void 0);this.x=i;this.s=void 0;this.g=u-1;this.f=4}(_.prototype=new d).h=function(){this.f&=-3;if(1&this.f)return!1;if(32==(36&this.f))return!0;this.f&=-5;if(this.g===u)return!0;this.g=u;this.f|=1;if(this.i>0&&!l(this)){this.f&=-2;return!0}var i=o;try{y(this);o=this;var t=this.x();if(16&this.f||this.v!==t||0===this.i){this.v=t;this.f&=-17;this.i++}}catch(i){this.v=i;this.f|=16;this.i++}o=i;w(this);this.f&=-2;return!0};_.prototype.S=function(i){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}d.prototype.S.call(this,i)};_.prototype.U=function(i){if(void 0!==this.t){d.prototype.U.call(this,i);if(void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}}};_.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;void 0!==i;i=i.x)i.t.N()}};_.prototype.peek=function(){if(!this.h())i();if(16&this.f)throw this.v;return this.v};Object.defineProperty(_.prototype,\"value\",{get:function(){if(1&this.f)i();var t=c(this);this.h();if(void 0!==t)t.i=this.i;if(16&this.f)throw this.v;return this.v}});function p(i){return new _(i)}function g(i){var t=i.u;i.u=void 0;if(\"function\"==typeof t){v++;var n=o;o=void 0;try{t()}catch(t){i.f&=-2;i.f|=8;b(i);throw t}finally{o=n;r()}}}function b(i){for(var t=i.s;void 0!==t;t=t.n)t.S.U(t);i.x=void 0;i.s=void 0;g(i)}function x(i){if(o!==this)throw new Error(\"Out-of-order effect\");w(this);o=i;this.f&=-2;if(8&this.f)b(this);r()}function E(i){this.x=i;this.u=void 0;this.s=void 0;this.o=void 0;this.f=32}E.prototype.c=function(){var i=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();if(\"function\"==typeof t)this.u=t}finally{i()}};E.prototype.S=function(){if(1&this.f)i();this.f|=1;this.f&=-9;g(this);y(this);v++;var t=o;o=this;return x.bind(this,t)};E.prototype.N=function(){if(!(2&this.f)){this.f|=2;this.o=f;f=this}};E.prototype.d=function(){this.f|=8;if(!(1&this.f))b(this)};function O(i){var t=new E(i);try{t.c()}catch(i){t.d();throw i}return t.d.bind(t)}export{d as Signal,n as batch,p as computed,O as effect,a as signal,s as untracked};//# sourceMappingURL=signals-core.module.js.map\n","import{Component as n,options as r}from\"preact\";import{useMemo as i,useRef as t,useEffect as f}from\"preact/hooks\";import{Signal as o,computed as e,signal as u,effect as a}from\"@preact/signals-core\";export{Signal,batch,computed,effect,signal}from\"@preact/signals-core\";var c,v;function s(n,i){r[n]=i.bind(null,r[n]||function(){})}function l(n){if(v)v();v=n&&n.S()}function d(n){var r=this,t=n.data,f=useSignal(t);f.value=t;var o=i(function(){var n=r.__v;while(n=n.__)if(n.__c){n.__c.__$f|=4;break}r.__$u.c=function(){r.base.data=o.peek()};return e(function(){var n=f.value.value;return 0===n?0:!0===n?\"\":n||\"\"})},[]);return o.value}d.displayName=\"_st\";Object.defineProperties(o.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:d},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});s(\"__b\",function(n,r){if(\"string\"==typeof r.type){var i,t=r.props;for(var f in t)if(\"children\"!==f){var e=t[f];if(e instanceof o){if(!i)r.__np=i={};i[f]=e;t[f]=e.peek()}}}n(r)});s(\"__r\",function(n,r){l();var i,t=r.__c;if(t){t.__$f&=-2;if(void 0===(i=t.__$u))t.__$u=i=function(n){var r;a(function(){r=this});r.c=function(){t.__$f|=1;t.setState({})};return r}()}c=t;l(i);n(r)});s(\"__e\",function(n,r,i,t){l();c=void 0;n(r,i,t)});s(\"diffed\",function(n,r){l();c=void 0;var i;if(\"string\"==typeof r.type&&(i=r.__e)){var t=r.__np,f=r.props;if(t){var o=i.U;if(o)for(var e in o){var u=o[e];if(void 0!==u&&!(e in t)){u.d();o[e]=void 0}}else i.U=o={};for(var a in t){var v=o[a],s=t[a];if(void 0===v){v=p(i,a,s,f);o[a]=v}else v.o(s,f)}}}n(r)});function p(n,r,i,t){var f=r in n&&void 0===n.ownerSVGElement,o=u(i);return{o:function(n,r){o.value=n;t=r},d:a(function(){var i=o.value.value;if(t[r]!==i){t[r]=i;if(f)n[r]=i;else if(i)n.setAttribute(r,i);else n.removeAttribute(r)}})}}s(\"unmount\",function(n,r){if(\"string\"==typeof r.type){var i=r.__e;if(i){var t=i.U;if(t){i.U=void 0;for(var f in t){var o=t[f];if(o)o.d()}}}}else{var e=r.__c;if(e){var u=e.__$u;if(u){e.__$u=void 0;u.d()}}}n(r)});s(\"__h\",function(n,r,i,t){if(t<3)r.__$f|=2;n(r,i,t)});n.prototype.shouldComponentUpdate=function(n,r){var i=this.__$u;if(!(i&&void 0!==i.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var t in r)return!0;for(var f in n)if(\"__source\"!==f&&n[f]!==this.props[f])return!0;for(var o in this.props)if(!(o in n))return!0;return!1};function useSignal(n){return i(function(){return u(n)},[])}function useComputed(n){var r=t(n);r.current=n;c.__$f|=4;return i(function(){return e(function(){return r.current()})},[])}function useSignalEffect(n){var r=t(n);r.current=n;f(function(){return a(function(){return r.current()})},[])}export{useComputed,useSignal,useSignalEffect};//# sourceMappingURL=signals.module.js.map\n","import{options as r}from\"preact\";export{Fragment}from\"preact\";var _=0;function o(o,e,n,t,f,l){var s,u,a={};for(u in e)\"ref\"==u?s=e[u]:a[u]=e[u];var i={type:o,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--_,__source:f,__self:l};if(\"function\"==typeof o&&(s=o.defaultProps))for(u in s)void 0===a[u]&&(a[u]=s[u]);return r.vnode&&r.vnode(i),i}export{o as jsx,o as jsxDEV,o as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import { Signal, useSignalEffect } from \"@preact/signals\";\nimport { useEffect, useRef } from \"preact/hooks\";\n\nimport styles from \"./dialog.module.css\";\n\nexport const Dialog = ({\n  isVisible,\n  children,\n}: {\n  isVisible: Signal<boolean>;\n  children: any;\n}) => {\n  const dialogRef = useRef<HTMLDialogElement>(null);\n\n  useSignalEffect(() => {\n    if (isVisible.value) {\n      dialogRef.current?.showModal();\n    } else {\n      dialogRef.current?.close();\n    }\n  });\n\n  useEffect(() => {\n    const dialog = dialogRef.current;\n    if (!dialog) return;\n\n    const closeDialog = () => (isVisible.value = false);\n    dialog.addEventListener(\"close\", closeDialog);\n    return () => {\n      dialog.removeEventListener(\"close\", closeDialog);\n    };\n  });\n\n  return (\n    <dialog ref={dialogRef} className={styles.dialog}>\n      <div className={styles.content}>\n        {children}\n        <button\n          className={styles.closeButton}\n          onClick={() => (isVisible.value = false)}\n        >\n          Close\n        </button>\n      </div>\n    </dialog>\n  );\n};\n","import { LinkEntry } from \"./types\";\n\nexport type SharingFormat = \"links\" | \"links-and-titles\" | \"markdown\";\n\nexport const formatShareableLinks = (\n  format: SharingFormat,\n  links: LinkEntry[]\n) => {\n  switch (format) {\n    case \"links\":\n      return links.map((link) => link.href).join(\"\\n\");\n    case \"links-and-titles\":\n      return links.map((link) => `${link.text} - ${link.href}`).join(\"\\n\");\n    case \"markdown\":\n      return links\n        .map((link) => {\n          const linkText = link.text\n            .replace(/\\*/gi, \"\\\\*\")\n            .replace(/\\[/gi, \"\\\\[\")\n            .replace(/\\]/gi, \"\\\\]\")\n            .replace(/\\(/gi, \"\\\\(\");\n\n          return `[${linkText}](${link.href})`;\n        })\n        .join(\"\\n\");\n  }\n};\n","export const share = (url: string) => {\n  if (typeof navigator.clipboard.writeText !== \"function\")\n    return Promise.reject(new Error(\"Clipboard access not supported\"));\n  return navigator.clipboard.writeText(url);\n};\n","import { render } from \"preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport styles from \"./view.module.css\";\nimport { linksFromDOM } from \"./links-from-dom\";\nimport { LinkEntry, PageDescription } from \"./types\";\nimport { useComputed, useSignal } from \"@preact/signals\";\nimport { Dialog } from \"./dialog\";\nimport { SharingFormat, formatShareableLinks } from \"./format-shareable-links\";\nimport { share } from \"./share\";\n\nconst getHTMLContent = (): Promise<LinkEntry[]> =>\n  new Promise((resolve) => {\n    window.addEventListener(\n      \"message\",\n      (event) => {\n        resolve(linksFromDOM(event.data as PageDescription));\n      },\n      { once: true }\n    );\n\n    window.parent.postMessage(\"ayeaye::ready\", \"*\");\n  });\n\nexport const init = () => {\n  function App() {\n    useEffect(() => {\n      getHTMLContent().then((newLinks) => {\n        links.value = newLinks;\n      });\n    }, []);\n    const links = useSignal<LinkEntry[]>([]);\n    const selectedLink = useSignal<LinkEntry | null>(null);\n    const shareableLinks = useComputed(() => {\n      return links.value.filter((link) => !link.isIgnored);\n    });\n\n    const isShareSheetVisible = useSignal(false);\n    const sharingFormat = useSignal<SharingFormat>(\"links\");\n    const formattedShareText = useComputed(() => {\n      if (!isShareSheetVisible.value) return \"\";\n      return formatShareableLinks(sharingFormat.value, shareableLinks.value);\n    });\n\n    const isCopyToastVisible = useSignal(false);\n\n    return (\n      <div className={styles.container}>\n        <nav className={styles.links}>\n          <ul>\n            {links.value.map((link) => {\n              return (\n                <li class={link.isIgnored ? styles.linkIsIgnored : \"\"}>\n                  <button\n                    className={`${styles.selectLink} ${\n                      link === selectedLink.value\n                        ? styles.selectedLinkActive\n                        : \"\"\n                    }`}\n                    onClick={() => (selectedLink.value = link)}\n                  >\n                    {link.text}\n                  </button>\n\n                  <button\n                    className={styles.removeLink}\n                    onClick={() => {\n                      // set the link to be ignored\n                      link.isIgnored = !link.isIgnored;\n                      links.value = [...links.value];\n                    }}\n                  >\n                    🗑️\n                  </button>\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n\n        <div className={styles.preview}>\n          {selectedLink.value ? (\n            <iframe src={selectedLink.value.href}></iframe>\n          ) : (\n            <p>Select a link to preview</p>\n          )}\n        </div>\n\n        <button\n          class={styles.shareLinksButton}\n          onClick={() => {\n            isShareSheetVisible.value = true;\n          }}\n        >\n          Copy {shareableLinks.value.length} links\n        </button>\n\n        <Dialog isVisible={isShareSheetVisible}>\n          <div>\n            <h2>Share links</h2>\n            <textarea value={formattedShareText}></textarea>\n          </div>\n\n          <button\n            onClick={() => {\n              isCopyToastVisible.value = true;\n              share(formattedShareText.value).then(() => {\n                setTimeout(() => {\n                  isCopyToastVisible.value = false;\n                }, 2000);\n              });\n            }}\n          >\n            {isCopyToastVisible.value ? \"Copied!\" : \"Copy to clipboard\"}\n          </button>\n          <select\n            value={sharingFormat.value}\n            onChange={(e) =>\n              (sharingFormat.value = e.currentTarget.value as SharingFormat)\n            }\n          >\n            <option value=\"links\">Links only</option>\n            <option value=\"links-and-titles\">Links and titles</option>\n            <option value=\"markdown\">Markdown</option>\n          </select>\n        </Dialog>\n      </div>\n    );\n  }\n\n  const root = document.getElementById(\"root\");\n  render(<App />, root!);\n};\n","import { init } from \"./preview/view\";\ninit();\n"],"names":["n","l","u","t","r","o","f","c","s","a","h","v","y","i","p","_","k","b","g","m","w","e","L","M","x","d","A","C","$","S","O","H","T","I","z","j","P","q","N","B","F","Readability","doc","options","el","logNode","node","attrPairs","attr","args","arg","msg","articleContent","nodeList","filterFn","parentNode","newTagName","fn","slice","nodeLists","list","tagNames","tag","collection","classesToPreserve","className","cls","baseURI","documentURI","toAbsoluteURI","uri","links","link","href","text","container","medias","media","src","poster","srcset","newSrcset","p1","p2","p3","child","curTitle","origTitle","titleHadHierarchicalSeparators","wordCount","str","headings","trimmedTitle","match","heading","hOnes","curTitleWordCount","next","elem","br","replaced","brSibling","nextElem","sibling","replacement","shareElementThreshold","topCandidate","matchString","paragraph","imgCount","embedCount","objectCount","iframeCount","totalCount","table","tbody","row","cell","nextNode","ignoreSelfAndKids","textA","textB","tokensA","tokensB","uniqTokensB","token","distanceB","rel","itemprop","maxDepth","ancestors","page","isPaging","pageCacheHtml","stripUnlikelyCandidates","elementsToScore","shouldRemoveTitleHeader","childNode","nextSibling","newNode","candidates","elementToScore","innerText","contentScore","ancestor","level","scoreDivider","topCandidates","cl","candidate","candidateScore","aTopCandidate","neededToCreateTopCandidate","parentOfTopCandidate","alternativeCandidateAncestors","MINIMUM_TOPCANDIDATES","listsContainingThisAncestor","ancestorIndex","lastScore","scoreThreshold","parentScore","siblingScoreThreshold","siblings","sl","append","contentBonus","linkDensity","nodeContent","nodeLength","div","parseSuccessful","textLength","articleDir","byline","htmlEscapeMap","hex","numStr","num","scripts","metadata","jsonLdElement","content","parsed","it","title","nameMatches","headlineMatches","author","err","jsonld","values","metaElements","propertyPattern","namePattern","element","elementName","elementProperty","matches","name","imgs","img","noscripts","noscript","tmp","prevElement","prevImg","newImg","attrName","normalizeSpaces","textContent","cur","linkLength","linkNode","coefficient","weight","isEmbed","tagName","depth","rows","columns","trs","rowspan","columnsInThisRow","cells","colspan","root","tables","role","datatable","summary","caption","dataTableDescendants","descendantExists","sizeInfo","parts","srcCouldBeRemoved","b64starts","b64length","copyTo","tags","childrenLength","children","isDataTable","isList","listLength","listNodes","li","input","headingDensity","embeds","contentLength","haveToRemove","li_count","filter","endOfSearchMarkerNode","headingNodes","shouldRemove","flag","numTags","jsonLd","paragraphs","module","REGEXPS","isNodeVisible","isProbablyReaderable","defaultOptions","nodes","brNodes","set","score","textContentLength","require$$0","require$$1","readability","getAbsoluteURL","baseURL","isAbsolute","startsWith","URL","console","error","linksFromDOM","DOMParser","parseFromString","htmlContent","baseEl","document","createElement","head","allLinkElements","serializer","querySelectorAll","forEach","setAttribute","remove","parse","allLinks","Array","from","map","Boolean","E","useSignal","useComputed","useSignalEffect","Dialog","isVisible","dialogRef","useRef","value","current","showModal","close","useEffect","dialog","closeDialog","addEventListener","removeEventListener","_jsx","ref","styles","_jsxs","closeButton","onClick","formatShareableLinks","format","join","replace","share","url","navigator","clipboard","writeText","Promise","reject","Error","getHTMLContent","resolve","event","data","once","parent","postMessage","init","App","then","newLinks","selectedLink","shareableLinks","isIgnored","isShareSheetVisible","sharingFormat","formattedShareText","isCopyToastVisible","class","linkIsIgnored","selectLink","selectedLinkActive","removeLink","preview","shareLinksButton","length","setTimeout","onChange","currentTarget","getElementById","render"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,6,7,8]}